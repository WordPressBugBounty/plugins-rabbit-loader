"use strict";(this.webpackChunkRLAdmin=this.webpackChunkRLAdmin||[]).push([[5761],{26060(e,a,t){t.d(a,{d:()=>n});let n=function(e){return e.New="new",e.Upgrade="upgrade",e}({})},45761(e,a,t){t.r(a),t.d(a,{default:()=>Y});var n=t(14041),r=t(26060),i=t(63466),l=t(6530),o=t(98400),s=t(81031),c=t(1659),u=t(78722),d=t(54148),p=t(70099),m=t(12302),y=t(15189),f=t(69597),g=t(60201),b=t(6888),h=t(95949);let w=function(e){return e[e.Austria=1]="Austria",e[e.Belgium=2]="Belgium",e[e.Brazil=3]="Brazil",e[e.Bulgaria=4]="Bulgaria",e[e.Croatia=5]="Croatia",e[e.Cyprus=6]="Cyprus",e[e.CzechRepublic=7]="CzechRepublic",e[e.Denmark=8]="Denmark",e[e.Estonia=9]="Estonia",e[e.Finland=10]="Finland",e[e.France=11]="France",e[e.Germany=12]="Germany",e[e.Greece=13]="Greece",e[e.Hungary=14]="Hungary",e[e.Iceland=15]="Iceland",e[e.Ireland=16]="Ireland",e[e.Italy=17]="Italy",e[e.India=18]="India",e[e.Latvia=19]="Latvia",e[e.Liechtenstein=20]="Liechtenstein",e[e.Lithuania=21]="Lithuania",e[e.Luxembourg=22]="Luxembourg",e[e.Malta=23]="Malta",e[e.Netherlands=24]="Netherlands",e[e.Norway=25]="Norway",e[e.Poland=26]="Poland",e[e.Portugal=27]="Portugal",e[e.Romania=28]="Romania",e[e.Slovakia=29]="Slovakia",e[e.Slovenia=30]="Slovenia",e[e.Spain=31]="Spain",e[e.Sweden=32]="Sweden",e[e.Switzerland=33]="Switzerland",e[e.UK=34]="UK",e[e.USA=35]="USA",e[e.Others=36]="Others",e[e.Error=37]="Error",e}({});const P={Vienna:w.Austria,Brussels:w.Belgium,Sofia:w.Bulgaria,Noronha:w.Brazil,Belem:w.Brazil,Fortaleza:w.Brazil,Recife:w.Brazil,Araguaina:w.Brazil,Maceio:w.Brazil,Bahia:w.Brazil,Sao_Paulo:w.Brazil,Campo_Grande:w.Brazil,Cuiaba:w.Brazil,Santarem:w.Brazil,Porto_Velho:w.Brazil,Boa_Vista:w.Brazil,Manaus:w.Brazil,Eirunepe:w.Brazil,Rio_Branco:w.Brazil,Zurich:w.Switzerland,Nicosia:w.Cyprus,Famagusta:w.Cyprus,Prague:w.CzechRepublic,Berlin:w.Germany,Copenhagen:w.Denmark,Tallinn:w.Estonia,Madrid:w.Spain,Ceuta:w.Spain,Canary:w.Spain,Helsinki:w.Finland,Paris:w.France,London:w.UK,Athens:w.Greece,Budapest:w.Hungary,Dublin:w.Ireland,Kolkata:w.India,Calcutta:w.India,Reykjavik:w.Iceland,Rome:w.Italy,Vilnius:w.Lithuania,Luxembourg:w.Luxembourg,Riga:w.Latvia,Malta:w.Malta,Amsterdam:w.Netherlands,Oslo:w.Norway,Warsaw:w.Poland,Lisbon:w.Portugal,Madeira:w.Portugal,Azores:w.Portugal,Bucharest:w.Romania,Stockholm:w.Sweden,New_York:w.USA,Detroit:w.USA,Louisville:w.USA,Monticello:w.USA,Indianapolis:w.USA,Vincennes:w.USA,Winamac:w.USA,Marengo:w.USA,Petersburg:w.USA,Vevay:w.USA,Chicago:w.USA,Tell_City:w.USA,Knox:w.USA,Menominee:w.USA,Center:w.USA,New_Salem:w.USA,Beulah:w.USA,Denver:w.USA,Boise:w.USA,Phoenix:w.USA,Los_Angeles:w.USA,Anchorage:w.USA,Juneau:w.USA,Sitka:w.USA,Metlakatla:w.USA,Yakutat:w.USA,Nome:w.USA,Adak:w.USA,Honolulu:w.USA,Busingen:w.Germany,Zagreb:w.Croatia,Vaduz:w.Liechtenstein,Ljubljana:w.Slovenia,Bratislava:w.Slovakia};function S(){var e;if(!Intl)return w.Error;const a=Intl.DateTimeFormat().resolvedOptions().timeZone.split("/"),t=a[a.length-1];return null!==(e=P[t])&&void 0!==e?e:w.Others}var v=t(54767);const A=(0,t(34893).A)();var I=function(e){return e.OpenUpgradeModal="open-upgrade-modal",e.CloseUpgradeModal="close-upgrade-modal",e.PooledPlan="pooled-plan",e.ClearDomainAddData="clear-domain-add-data",e.NewDomainAdded="new-domain-added",e}(I||{}),D=t(81371),R=t(79744);const E=(0,n.lazy)(()=>t.e(5050).then(t.bind(t,11e3))),U=(0,n.lazy)(()=>t.e(8598).then(t.bind(t,88598))),O=(0,n.lazy)(()=>t.e(9453).then(t.bind(t,29453))),T=(0,n.lazy)(()=>t.e(8482).then(t.bind(t,28482))),q=(0,n.lazy)(()=>t.e(3069).then(t.bind(t,33069))),C=(0,n.lazy)(()=>t.e(6818).then(t.bind(t,86818))),B=(0,n.lazy)(()=>t.e(3940).then(t.bind(t,83940))),k=["64928b4b535c894e0f5e1894","64928b4b535c894e0f5e1895","64928b4b535c894e0f5e1896"],z=["67f79f7e8b05c7ebf9020b67","6492863c535c894e0f5e1892","6492863c535c894e0f5e1893"],N=["68a5a0274e6495a3f8dc150c","68a6b77b82fb2c71b39ef0ab","68a6db7d82fb2c71b39ef0ac"],j=["68a84b09f007d5ab6dad3a31","68a9779dd6964a47b0b04bd9","68ac418d6b233757c44fc3cc"];function L(e){return"USD"===new URLSearchParams(window.location.search).get("currency")?z:e===w.India?k:z}const F=function(e){let{flowType:a,domainID:t,isAgency:i,isAgencySwitchParentProvided:o,onPlanSelect:s}=e;const c=(0,l.A)(),u=(0,p.A)(c.breakpoints.down("md")),[d,P]=(0,n.useState)(!1),[F,x]=(0,n.useState)([]),[G,M]=(0,n.useState)(!0),[V,_]=(0,n.useState)(!1),[H,Y]=(0,n.useState)("consumer"),{planID:K,frequency:Z,setPlanDetails:W,setAvailablePlans:J}=(0,D.R)(),[Q,X]=(0,n.useTransition)(),$=(0,n.useCallback)(async e=>{let{planIDs:a}=e;M(!0);const[t,n]=await async function(e){var a;let{planIDs:t}=e;const n=new b.e.GetRLPricingPlansRequest({planId:t}),[r,i]=await(0,g.hN)(n,{},null!==(a=(0,f.w9)(!1))&&void 0!==a?a:"",(0,f.N4)());return[r,i]}({planIDs:a}),r=(0,h.c)(n);if(!r){const e=a.map(e=>t.pricingPlansRL.find(a=>a.planId===e)).filter(Boolean);return J(e),void X(()=>{x(e),M(!1)})}(0,R.v)(r,n,"error"),M(!1)},[J]),ee=(0,n.useCallback)(async()=>{if(!t)return"";const[e,a]=await(0,v.i)({domainID:t});if(404===a)return"";const n=(0,h.c)(a);return n?((0,R.v)(n,a,"error"),""):(W(e.planID,e.subscriptionID,e.tier,e.gatewayName,e.frequency),e.planID)},[t,W]),ae=(0,n.useCallback)(async()=>{const[e,a]=await(0,v.Z)();if(!(0,h.c)(a))for(const a of e.subscriptions)if(a.pooled){A.emit(I.PooledPlan,a.pricingPlanRL.planTitle);break}},[]);return(0,n.useEffect)(()=>{!async function(){let e="";if((0,f.w9)(!1)&&a!==r.d.New&&(e=await ee()),"consumer"===H)if(a===r.d.New){const e=L(S());$({planIDs:e}),ae()}else if(k.includes(e)){const e=L(w.India);$({planIDs:e})}else if(z.includes(e)){const e=L(w.USA);$({planIDs:e})}else{const e=L(S());$({planIDs:e})}else S()===w.India?$({planIDs:j}):$({planIDs:N})}()},[ee,$,ae,a,H]),(0,n.useEffect)(()=>{Y(i?"agency":"consumer")},[i]),React.createElement(m.A,{sx:{width:"100%",bgcolor:c.palette.primary.lighter,px:u||a===r.d.New?4:12,py:a===r.d.New?2:5}},React.createElement(n.Suspense,null,V&&React.createElement(B,{open:V,onClose:()=>_(!1)})),React.createElement(n.Suspense,null,React.createElement(E,{isMonthly:d,setIsMonthly:P,flowType:a,isAgencySwitchParentProvided:o,planType:H,setPlanType:Y})),React.createElement(y.A,{sx:{display:"flex",flexDirection:u||a===r.d.New?"column":"row",justifyContent:"space-evenly",rowGap:a===r.d.New?2:4,columnGap:4,mt:a===r.d.New?2:4,flexGrow:1}},G&&(a===r.d.New?React.createElement(n.Suspense,null,React.createElement(C,null),React.createElement(C,null),React.createElement(C,null)):React.createElement(n.Suspense,null,React.createElement(T,null),React.createElement(T,null),React.createElement(T,null))),React.createElement(n.Suspense,null,!G&&F.map((e,t)=>a===r.d.New?React.createElement(q,{key:e.planId,title:e.planTitle,monthlyPrice:e.monthlyPrice,yearlyPrice:e.yearlyPrice,showMonthlyPrice:d,isPopular:t%2==1,limits:{pageViews:e.limitPageViews,pageRules:e.limitPageRules,images:e.limitImages,canonicalUrls:e.limitCanonicalURLs,delegates:e.limitDelegates},onPlanSelect:()=>s(e,d?b.e.Frequency.monthly:b.e.Frequency.yearly)}):React.createElement(O,{key:e.planId,title:e.planTitle,monthlyPrice:e.monthlyPrice,yearlyPrice:e.yearlyPrice,showMonthlyPrice:d,isPopular:t%2==1,isExistingPlan:e.planId===K,existingFrequency:Z,limits:{pageViews:e.limitPageViews,pageRules:e.limitPageRules,images:e.limitImages,canonicalUrls:e.limitCanonicalURLs,delegates:e.limitDelegates},onPlanSelect:()=>s(e,d?b.e.Frequency.monthly:b.e.Frequency.yearly)})))),a!==r.d.New&&React.createElement(y.A,{sx:{mt:3}},React.createElement(n.Suspense,null,React.createElement(U,{flowType:a,onContactUsClick:()=>_(!0)}))))};var x=t(82224);const G=(0,n.lazy)(()=>Promise.all([t.e(9996),t.e(7298),t.e(721)]).then(t.bind(t,22637))),M=(0,n.lazy)(()=>t.e(9338).then(t.bind(t,99338))),V=function(e){let{domainID:a,flowType:t}=e;const[r,i]=(0,n.useState)(),[l,o]=(0,n.useState)(),[s,c]=(0,n.useState)(!1),[u,d]=(0,n.useState)(!1),{paymentGateway:p,subscriptionID:m}=(0,D.R)(),y=(0,n.useMemo)(()=>p===b.e.GatewayName.stripe,[p]),w=(0,n.useCallback)(async()=>{if(l&&r){const[e,a]=await async function(e){var a;let{planID:t,frequency:n,subscriptionID:r}=e;const i=new b.e.UpdateSubscriptionReq({planID:t,brand:x.Y.Brand.rabbitloader,frequency:n,promoCode:""}),[l,o]=await(0,g.P1)(i,{pathVars:{"{subscription_id}":r}},null!==(a=(0,f.w9)(!1))&&void 0!==a?a:"",(0,f.N4)());return[l,o]}({frequency:l,planID:r.planId,subscriptionID:m}),t=(0,h.c)(a);t?(0,R.v)(t,a,"error"):((0,R.v)("Subscription updated successfully. You should receive an email shortly.",a,"success"),d(!1))}},[l,r,m]);return React.createElement(React.Fragment,null,React.createElement(n.Suspense,null,r&&void 0!==l&&s&&React.createElement(G,{domainID:a,isMonthly:l===b.e.Frequency.monthly,limits:{canonicalUrls:r.limitCanonicalURLs,delegates:r.limitDelegates,images:r.limitImages,pageRules:r.limitPageRules,pageViews:r.limitPageViews},onClose:()=>c(!1),open:s,plan:r,onCheckoutFinishCallback:()=>{c(!1)}})),React.createElement(n.Suspense,null,l&&r&&u&&React.createElement(M,{open:u,selectedFrequency:l,selectedPlan:r,onClose:()=>{d(!1)},onConfirm:w})),React.createElement(F,{domainID:a,flowType:t,onPlanSelect:async(e,a)=>{y?(d(!0),o(a),i(e)):(o(a),i(e),c(!0))}}))};function _(){return _=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},_.apply(null,arguments)}const H=n.forwardRef(function(e,a){return n.createElement(i.A,_({direction:"up",ref:a},e))}),Y=function(e){let{domainID:a,open:t,onClose:i}=e;const p=(0,l.A)();return n.createElement(o.A,{fullScreen:!0,open:t,onClose:()=>i(),TransitionComponent:H,scroll:"body"},n.createElement(s.A,{sx:{position:"relative",bgcolor:p.palette.primary.lighter,borderBottom:"1px solid ".concat(p.palette.grey[300])}},n.createElement(c.A,null,n.createElement(u.A,{edge:"start",onClick:()=>i(),"aria-label":"close"},n.createElement(d.A,null)))),n.createElement(V,{domainID:a,flowType:r.d.Upgrade}))}},81371(e,a,t){t.d(a,{R:()=>c});var n=t(6888),r=t(61394);function i(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function l(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?i(Object(t),!0).forEach(function(a){o(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function o(e,a,t){return(a=function(e){var a=function(e){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var t=a.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof a?a:a+""}(a))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}const s={paymentGateway:n.e.GatewayName.UNDEFINED_GATEWAY,subscriptionID:"",frequency:n.e.Frequency.UNDEFINED_FREQ,planID:"",availablePlans:[],tier:n.e.Tier.UNDEFINED_TIER},c=(0,r.v)(e=>l(l({},s),{},{setPaymentGateway:a=>e(e=>l(l({},e),{},{paymentGateway:a})),setPlanID:a=>e(e=>l(l({},e),{},{planID:a})),setAvailablePlans:a=>e(e=>l(l({},e),{},{availablePlans:a})),setFrequency:a=>e(e=>l(l({},e),{},{frequency:a})),setPlanDetails:(a,t,n,r,i)=>e(()=>({planID:a,subscriptionID:t,tier:n,paymentGateway:r,frequency:i}))}))},95949(e,a,t){function n(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function r(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?n(Object(t),!0).forEach(function(a){i(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function i(e,a,t){return(a=function(e){var a=function(e){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var t=a.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof a?a:a+""}(a))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function l(e,a){return r(r({},{400:"Please ensure all inputs are correct.",401:"Session timed out. Please log in and try again.",402:"Upgrade is required to proceed.",403:"You do not have permission to access this resource.",404:"The requested resource could not be found.",405:"The method used is not allowed for this request.",406:"The requested format is not acceptable. Please try a different one.",407:"Authentication is required through a proxy server.",408:"The request timed out. Please try again later.",409:"There is a conflict with the current state of the resource.",410:"The requested resource is no longer available.",411:"A specific content length is required for this request.",412:"The request did not meet the required conditions.",413:"The request is too large to be processed.",414:"The URL is too long to be processed.",415:"The server cannot process the media type in the request.",416:"The requested range is not valid.",417:"Unexpected error occurred.",419:"Something unexpected happened. Please try again.",422:"The request could not be processed due to invalid data.",423:"The resource is locked and cannot be accessed.",424:"A dependency for this request failed to execute.",426:"An upgrade is required to complete the request.",428:"A required condition was not met. Please check and try again.",429:"Too many requests. Please wait and try again later.",431:"The request headers are too large. Please reduce them and try again.",451:"This resource is unavailable due to legal restrictions.",500:"An error occurred on the server. Please try again later.",502:"There was an error from the server acting as a gateway.",503:"The service is temporarily unavailable. Please try again later.",504:"The gateway server timed out. Please try again later.",505:"The HTTP version used is not supported by the server.",506:"There is a server configuration issue. Please try again later.",507:"The server does not have enough storage to process this request.",508:"A server loop was detected. Please try again later.",510:"Additional extensions are required to complete this request.",511:"Network authentication is required. Please log in and try again."}),(null==a?void 0:a.customErrors)||{})[e]||null}t.d(a,{c:()=>l})}}]);