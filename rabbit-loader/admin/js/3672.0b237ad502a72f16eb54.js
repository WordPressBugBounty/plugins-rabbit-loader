"use strict";(this.webpackChunkRLAdmin=this.webpackChunkRLAdmin||[]).push([[3672],{20550:(e,t,a)=>{a.d(t,{T:()=>n});const n=e=>{let t=null;const a=new Proxy({},{get(e,a){if(t){const e=t[a];return"function"==typeof e?function(){return e(...arguments)}:e}throw new Error(`Module not loaded yet. Accessing property '${String(a)}' is not allowed.`)}});return(async()=>{const a=await e();t=a.default})(),a}},67534:(e,t,a)=>{a.d(t,{A:()=>p});var n=a(14041),r=a.t(n,2),i=a(64714),s=a(50065),o=a(374);function l(e,t,a,r,s){const[o,l]=n.useState((()=>s&&a?a(e).matches:r?r(e).matches:t));return(0,i.A)((()=>{if(!a)return;const t=a(e),n=()=>{l(t.matches)};return n(),t.addEventListener("change",n),()=>{t.removeEventListener("change",n)}}),[e,a]),o}const c={...r}.useSyncExternalStore;function u(e,t,a,r,i){const s=n.useCallback((()=>t),[t]),o=n.useMemo((()=>{if(i&&a)return()=>a(e).matches;if(null!==r){const{matches:t}=r(e);return()=>t}return s}),[s,e,r,i,a]),[l,u]=n.useMemo((()=>{if(null===a)return[s,()=>()=>{}];const t=a(e);return[()=>t.matches,e=>(t.addEventListener("change",e),()=>{t.removeEventListener("change",e)})]}),[s,a,e]);return c(u,l,o)}function d(e={}){const{themeId:t}=e;return function(e,a={}){let n=(0,o.A)();n&&t&&(n=n[t]||n);const r="undefined"!=typeof window&&void 0!==window.matchMedia,{defaultMatches:i=!1,matchMedia:d=(r?window.matchMedia:null),ssrMatchMedia:p=null,noSsr:h=!1}=(0,s.A)({name:"MuiUseMediaQuery",props:a,theme:n});let m="function"==typeof e?e(n):e;return m=m.replace(/^@media( ?)/m,""),(void 0!==c?u:l)(m,i,d,p,h)}}d();const p=d({themeId:a(58001).A})},93672:(e,t,a)=>{a.r(t),a.d(t,{default:()=>O});var n=a(6530),r=a(67534),i=a(12302),s=a(22771),o=a(14041),l=a(69597),c=a(6888);const u=3e5,d=3,p=[500,502,503],h=!1;class m extends Error{constructor(e){super(e),this.name="MissingPathVarError"}}const y=new m("path variable is missing");function g(e,t){let a=!1,n=e;for(const[e,a]of Object.entries(t))n=n.replace(e,a);return a=n.includes("{"),{newPath:n,missingVar:a}}var f=a(95949);let w=function(e){return e[e.Austria=1]="Austria",e[e.Belgium=2]="Belgium",e[e.Brazil=3]="Brazil",e[e.Bulgaria=4]="Bulgaria",e[e.Croatia=5]="Croatia",e[e.Cyprus=6]="Cyprus",e[e.CzechRepublic=7]="CzechRepublic",e[e.Denmark=8]="Denmark",e[e.Estonia=9]="Estonia",e[e.Finland=10]="Finland",e[e.France=11]="France",e[e.Germany=12]="Germany",e[e.Greece=13]="Greece",e[e.Hungary=14]="Hungary",e[e.Iceland=15]="Iceland",e[e.Ireland=16]="Ireland",e[e.Italy=17]="Italy",e[e.India=18]="India",e[e.Latvia=19]="Latvia",e[e.Liechtenstein=20]="Liechtenstein",e[e.Lithuania=21]="Lithuania",e[e.Luxembourg=22]="Luxembourg",e[e.Malta=23]="Malta",e[e.Netherlands=24]="Netherlands",e[e.Norway=25]="Norway",e[e.Poland=26]="Poland",e[e.Portugal=27]="Portugal",e[e.Romania=28]="Romania",e[e.Slovakia=29]="Slovakia",e[e.Slovenia=30]="Slovenia",e[e.Spain=31]="Spain",e[e.Sweden=32]="Sweden",e[e.Switzerland=33]="Switzerland",e[e.UK=34]="UK",e[e.USA=35]="USA",e[e.Others=36]="Others",e[e.Error=37]="Error",e}({});const b={Vienna:w.Austria,Brussels:w.Belgium,Sofia:w.Bulgaria,Noronha:w.Brazil,Belem:w.Brazil,Fortaleza:w.Brazil,Recife:w.Brazil,Araguaina:w.Brazil,Maceio:w.Brazil,Bahia:w.Brazil,Sao_Paulo:w.Brazil,Campo_Grande:w.Brazil,Cuiaba:w.Brazil,Santarem:w.Brazil,Porto_Velho:w.Brazil,Boa_Vista:w.Brazil,Manaus:w.Brazil,Eirunepe:w.Brazil,Rio_Branco:w.Brazil,Zurich:w.Switzerland,Nicosia:w.Cyprus,Famagusta:w.Cyprus,Prague:w.CzechRepublic,Berlin:w.Germany,Copenhagen:w.Denmark,Tallinn:w.Estonia,Madrid:w.Spain,Ceuta:w.Spain,Canary:w.Spain,Helsinki:w.Finland,Paris:w.France,London:w.UK,Athens:w.Greece,Budapest:w.Hungary,Dublin:w.Ireland,Kolkata:w.India,Calcutta:w.India,Reykjavik:w.Iceland,Rome:w.Italy,Vilnius:w.Lithuania,Luxembourg:w.Luxembourg,Riga:w.Latvia,Malta:w.Malta,Amsterdam:w.Netherlands,Oslo:w.Norway,Warsaw:w.Poland,Lisbon:w.Portugal,Madeira:w.Portugal,Azores:w.Portugal,Bucharest:w.Romania,Stockholm:w.Sweden,New_York:w.USA,Detroit:w.USA,Louisville:w.USA,Monticello:w.USA,Indianapolis:w.USA,Vincennes:w.USA,Winamac:w.USA,Marengo:w.USA,Petersburg:w.USA,Vevay:w.USA,Chicago:w.USA,Tell_City:w.USA,Knox:w.USA,Menominee:w.USA,Center:w.USA,New_Salem:w.USA,Beulah:w.USA,Denver:w.USA,Boise:w.USA,Phoenix:w.USA,Los_Angeles:w.USA,Anchorage:w.USA,Juneau:w.USA,Sitka:w.USA,Metlakatla:w.USA,Yakutat:w.USA,Nome:w.USA,Adak:w.USA,Honolulu:w.USA,Busingen:w.Germany,Zagreb:w.Croatia,Vaduz:w.Liechtenstein,Ljubljana:w.Slovenia,Bratislava:w.Slovakia};function S(){if(!Intl)return w.Error;const e=Intl.DateTimeFormat().resolvedOptions().timeZone.split("/"),t=e[e.length-1];return b[t]??w.Others}var P=a(82224),A=a(96809);var R=a(26060),v=a(20550);const I=(0,a(34893).A)();var E=function(e){return e.OpenUpgradeModal="open-upgrade-modal",e.CloseUpgradeModal="close-upgrade-modal",e.PooledPlan="pooled-plan",e.ClearDomainAddData="clear-domain-add-data",e}(E||{});const U=e=>{let t;const a=new Set,n=(e,n)=>{const r="function"==typeof e?e(t):e;if(!Object.is(r,t)){const e=t;t=(null!=n?n:"object"!=typeof r||null===r)?r:Object.assign({},t,r),a.forEach((a=>a(t,e)))}},r=()=>t,i={setState:n,getState:r,getInitialState:()=>s,subscribe:e=>(a.add(e),()=>a.delete(e))},s=t=e(n,r,i);return i},D=e=>e,T=e=>{const t=(e=>e?U(e):U)(e),a=e=>function(e,t=D){const a=o.useSyncExternalStore(e.subscribe,(()=>t(e.getState())),(()=>t(e.getInitialState())));return o.useDebugValue(a),a}(t,e);return Object.assign(a,t),a},B={paymentGateway:c.e.GatewayName.UNDEFINED_GATEWAY,subscriptionID:"",frequency:c.e.Frequency.UNDEFINED_FREQ,planID:"",availablePlans:[],tier:c.e.Tier.UNDEFINED_TIER},C=(q=e=>({...B,setPaymentGateway:t=>e((e=>({...e,paymentGateway:t}))),setPlanID:t=>e((e=>({...e,planID:t}))),setAvailablePlans:t=>e((e=>({...e,availablePlans:t}))),setFrequency:t=>e((e=>({...e,frequency:t}))),setPlanDetails:(t,a,n,r,i)=>e((()=>({planID:t,subscriptionID:a,tier:n,paymentGateway:r,frequency:i})))}))?T(q):T;var q;const N=(0,v.T)((()=>Promise.resolve().then(a.bind(a,91582)).then((e=>({default:e.toast}))))),z=(0,o.lazy)((()=>a.e(6603).then(a.bind(a,30139)))),L=(0,o.lazy)((()=>Promise.all([a.e(2051),a.e(3356),a.e(8598)]).then(a.bind(a,88598)))),k=(0,o.lazy)((()=>Promise.all([a.e(2051),a.e(3356),a.e(9453)]).then(a.bind(a,29453)))),G=(0,o.lazy)((()=>a.e(8482).then(a.bind(a,28482)))),M=(0,o.lazy)((()=>a.e(3069).then(a.bind(a,33069)))),x=(0,o.lazy)((()=>a.e(6818).then(a.bind(a,86818)))),F=(0,o.lazy)((()=>a.e(3940).then(a.bind(a,83940)))),j=["64928b4b535c894e0f5e1894","64928b4b535c894e0f5e1895","64928b4b535c894e0f5e1896"],V=["67f79f7e8b05c7ebf9020b67","6492863c535c894e0f5e1892","6492863c535c894e0f5e1893"];function _(e){return"USD"===new URLSearchParams(window.location.search).get("currency")?V:e===w.India?j:V}const O=function(e){let{flowType:t,domainID:a,onPlanSelect:m}=e;const b=(0,n.A)(),v=(0,r.A)(b.breakpoints.down("md")),[U,D]=(0,o.useState)(!1),[T,B]=(0,o.useState)([]),[q,O]=(0,o.useState)(!0),[H,Y]=(0,o.useState)(!1),{planID:K,frequency:W,setPlanDetails:J,setAvailablePlans:Q}=C(),[Z,$]=(0,o.useTransition)(),X=(0,o.useCallback)((async e=>{let{planIDs:t}=e;O(!0);const[a,n]=await async function(e){let{planIDs:t}=e;const a=new c.e.GetRLPricingPlansRequest({planId:t}),[n,r]=await function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;const{timeout:r=u,retryCount:i=d,retryableCodes:s=p,contentTypeJson:o=h}=t;let{newPath:l,missingVar:m}=g(n+"/billing/rl/plan_details",t.pathVars||{});if(m)return Promise.reject(y);const f=e.serializeBinary(),w={method:"GET",headers:new Headers({Authorization:`Bearer ${a}`,"Content-Type":o?"application/json":"application/x-protobuf",Accept:o?"application/json":"application/x-protobuf",...Object.fromEntries(t.headers||new Headers)}),...t.cache?{cache:t.cache}:{}};return l=l+"?"+new URLSearchParams({get_params:btoa(String.fromCharCode.apply(null,Array.from(f)))}),async function e(t){try{const a=await fetch(l,w);if(!a.ok&&s.includes(a.status)&&0!==t)return e(t-1);if(o)try{return[await a.json(),a.status]}catch(e){return console.log("error in reading response body: ",e),[new c.e.GetRLPricingPlansResponse,a.status]}try{const e=await a.arrayBuffer();if(0===e.byteLength)return[new c.e.GetRLPricingPlansResponse,a.status];const t=new Uint8Array(e);return[c.e.GetRLPricingPlansResponse.deserialize(t),a.status]}catch(e){return console.error("error in reading response body",e),[new c.e.GetRLPricingPlansResponse,a.status]}}catch(e){return console.log("error getting data: ",e),[new c.e.GetRLPricingPlansResponse,0]}}(i)}(a,{},(0,l.w9)(!1)??"",(0,l.N4)());return[n,r]}({planIDs:t}),r=(0,f.c)(n);if(!r){const e=t.map((e=>a.pricingPlansRL.find((t=>t.planId===e)))).filter(Boolean);return Q(e),void $((()=>{B(e),O(!1)}))}N.error(r),O(!1)}),[Q]),ee=(0,o.useCallback)((async()=>{if(!a)return"";const[e,t]=await async function(e){let{domainID:t}=e,a="",n="",r=c.e.Frequency.UNDEFINED_FREQ,i=c.e.GatewayName.UNDEFINED_GATEWAY,s=c.e.Tier.UNDEFINED_TIER;const[o,u]=await(0,A.xz)({pathVars:{"{domain_id}":t}},(0,l.w9)(!1)??"",(0,l.N4)());return o.plan&&o.plan.rlPlanID&&(a=o.plan.rlPlanID,n=o.plan.rlSubID,i=o.plan.gatewayName,s=o.plan.tier,r=o.plan.frequency),[{planID:a,frequency:r,gatewayName:i,tier:s,subscriptionID:n},u]}({domainID:a});if(404===t)return"";const n=(0,f.c)(t);return n?(N.error(n),""):(J(e.planID,e.subscriptionID,e.tier,e.gatewayName,e.frequency),e.planID)}),[a,J]),te=(0,o.useCallback)((async()=>{const[e,t]=await async function(){const e=new c.e.GetSubscriptionsReq({status:[c.e.SubStatus.Active],brand:P.Y.Brand.rabbitloader}),[t,a]=await function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;const{timeout:r=u,retryCount:i=d,retryableCodes:s=p,contentTypeJson:o=h}=t;let{newPath:l,missingVar:m}=g(n+"/billing/subscription",t.pathVars||{});if(m)return Promise.reject(y);const f=e.serializeBinary(),w={method:"GET",headers:new Headers({Authorization:`Bearer ${a}`,"Content-Type":o?"application/json":"application/x-protobuf",Accept:o?"application/json":"application/x-protobuf",...Object.fromEntries(t.headers||new Headers)}),...t.cache?{cache:t.cache}:{}};return l=l+"?"+new URLSearchParams({get_params:btoa(String.fromCharCode.apply(null,Array.from(f)))}),async function e(t){try{const a=await fetch(l,w);if(!a.ok&&s.includes(a.status)&&0!==t)return e(t-1);if(o)try{return[await a.json(),a.status]}catch(e){return console.log("error in reading response body: ",e),[new c.e.GetSubscriptionsRes,a.status]}try{const e=await a.arrayBuffer();if(0===e.byteLength)return[new c.e.GetSubscriptionsRes,a.status];const t=new Uint8Array(e);return[c.e.GetSubscriptionsRes.deserialize(t),a.status]}catch(e){return console.error("error in reading response body",e),[new c.e.GetSubscriptionsRes,a.status]}}catch(e){return console.log("error getting data: ",e),[new c.e.GetSubscriptionsRes,0]}}(i)}(e,{},(0,l.w9)(!1)??"",(0,l.N4)());return[t,a]}();if(!(0,f.c)(t))for(const t of e.subscriptions)if(t.pooled){I.emit(E.PooledPlan,t.pricingPlanRL.planTitle);break}}),[]);return(0,o.useEffect)((()=>{!async function(){let e="";if((0,l.w9)(!1)&&t!==R.d.New&&(e=await ee()),t===R.d.New){const e=_(S());X({planIDs:e}),te()}else if(j.includes(e)){const e=_(w.India);X({planIDs:e})}else if(V.includes(e)){const e=_(w.USA);X({planIDs:e})}else{const e=_(S());X({planIDs:e})}}()}),[ee,X,te,t]),React.createElement(i.A,{sx:{width:"100%",bgcolor:b.palette.primary.lighter,px:v||t===R.d.New?4:12,py:t===R.d.New?2:5}},React.createElement(o.Suspense,null,H&&React.createElement(F,{open:H,onClose:()=>Y(!1)})),React.createElement(o.Suspense,null,React.createElement(z,{isMonthly:U,setIsMonthly:D,flowType:t})),React.createElement(s.A,{sx:{display:"flex",flexDirection:v||t===R.d.New?"column":"row",justifyContent:"space-evenly",rowGap:t===R.d.New?2:4,columnGap:4,mt:t===R.d.New?2:4,flexGrow:1}},q&&(t===R.d.New?React.createElement(o.Suspense,null,React.createElement(x,null),React.createElement(x,null),React.createElement(x,null)):React.createElement(o.Suspense,null,React.createElement(G,null),React.createElement(G,null),React.createElement(G,null))),React.createElement(o.Suspense,null,T.map(((e,a)=>t===R.d.New?React.createElement(M,{key:e.planId,title:e.planTitle,monthlyPrice:e.monthlyPrice,yearlyPrice:e.yearlyPrice,showMonthlyPrice:U,isPopular:a%2==1,limits:{pageViews:e.limitPageViews,pageRules:e.limitPageRules,images:e.limitImages,canonicalUrls:e.limitCanonicalURLs,delegates:e.limitDelegates},onPlanSelect:()=>m(e,U?c.e.Frequency.monthly:c.e.Frequency.yearly)}):React.createElement(k,{key:e.planId,title:e.planTitle,monthlyPrice:e.monthlyPrice,yearlyPrice:e.yearlyPrice,showMonthlyPrice:U,isPopular:a%2==1,isExistingPlan:e.planId===K,existingFrequency:W,limits:{pageViews:e.limitPageViews,pageRules:e.limitPageRules,images:e.limitImages,canonicalUrls:e.limitCanonicalURLs,delegates:e.limitDelegates},onPlanSelect:()=>m(e,U?c.e.Frequency.monthly:c.e.Frequency.yearly)}))))),t!==R.d.New&&React.createElement(s.A,{sx:{mt:3}},React.createElement(o.Suspense,null,React.createElement(L,{flowType:t,onContactUsClick:()=>Y(!0)}))))}},95949:(e,t,a)=>{function n(e,t){return{400:"Please ensure all inputs are correct.",401:"Session timed out. Please log in and try again.",402:"Upgrade is required to proceed.",403:"You do not have permission to access this resource.",404:"The requested resource could not be found.",405:"The method used is not allowed for this request.",406:"The requested format is not acceptable. Please try a different one.",407:"Authentication is required through a proxy server.",408:"The request timed out. Please try again later.",409:"There is a conflict with the current state of the resource.",410:"The requested resource is no longer available.",411:"A specific content length is required for this request.",412:"The request did not meet the required conditions.",413:"The request is too large to be processed.",414:"The URL is too long to be processed.",415:"The server cannot process the media type in the request.",416:"The requested range is not valid.",417:"Unexpected error occurred.",419:"Something unexpected happened. Please try again.",422:"The request could not be processed due to invalid data.",423:"The resource is locked and cannot be accessed.",424:"A dependency for this request failed to execute.",426:"An upgrade is required to complete the request.",428:"A required condition was not met. Please check and try again.",429:"Too many requests. Please wait and try again later.",431:"The request headers are too large. Please reduce them and try again.",451:"This resource is unavailable due to legal restrictions.",500:"An error occurred on the server. Please try again later.",502:"There was an error from the server acting as a gateway.",503:"The service is temporarily unavailable. Please try again later.",504:"The gateway server timed out. Please try again later.",505:"The HTTP version used is not supported by the server.",506:"There is a server configuration issue. Please try again later.",507:"The server does not have enough storage to process this request.",508:"A server loop was detected. Please try again later.",510:"Additional extensions are required to complete this request.",511:"Network authentication is required. Please log in and try again.",...t?.customErrors||{}}[e]||null}a.d(t,{c:()=>n})}}]);