"use strict";(this.webpackChunkRLAdmin=this.webpackChunkRLAdmin||[]).push([[29],{37737:(e,t,a)=>{a.d(t,{Z:()=>d});var r=a(2784),o=a(32773),n=a(65992),i=a(47591),l=a(17277);const s=(0,n.ZP)(o.Z)((e=>{let{theme:t}=e;return{"& .apexcharts-canvas":{"& .apexcharts-tooltip":{...(0,l.Ls)({color:t.palette.background.default}),color:t.palette.text.primary,boxShadow:t.customShadows.dropdown,borderRadius:1.25*t.shape.borderRadius,"&.apexcharts-theme-light":{borderColor:"transparent",...(0,l.Ls)({color:t.palette.background.default})}},"& .apexcharts-xaxistooltip":{...(0,l.Ls)({color:t.palette.background.default}),borderColor:"transparent",color:t.palette.text.primary,boxShadow:t.customShadows.dropdown,borderRadius:1.25*t.shape.borderRadius,"&:before":{borderBottomColor:(0,i.Fq)(t.palette.grey[500],.24)},"&:after":{borderBottomColor:(0,i.Fq)(t.palette.background.default,.8)}},"& .apexcharts-tooltip-title":{textAlign:"center",fontWeight:t.typography.fontWeightBold,backgroundColor:(0,i.Fq)(t.palette.grey[500],.08),color:t.palette.text["light"===t.palette.mode?"secondary":"primary"]},"& .apexcharts-legend":{padding:0},"& .apexcharts-legend-series":{display:"inline-flex !important",alignItems:"center"},"& .apexcharts-legend-marker":{marginRight:8},"& .apexcharts-legend-text":{lineHeight:"18px",textTransform:"capitalize"}}}})),d=(0,r.memo)(s)},48449:(e,t,a)=>{a.d(t,{Z:()=>r.Z,Q:()=>d});var r=a(37737),o=a(98537),n=a.n(o),i=a(47746),l=a(47591),s=a(27149);function d(e){const t=(0,i.Z)(),a=function(e,t,a){const r=(0,i.Z)(),o=(0,s.Z)(r.breakpoints.up(t));(0,s.Z)(r.breakpoints.down(t)),(0,s.Z)(r.breakpoints.between(t,void 0)),(0,s.Z)(r.breakpoints.only(t));return o}(0,"sm"),r={show:!0,label:"Total",color:t.palette.text.secondary,fontSize:t.typography.subtitle2.fontSize,fontWeight:t.typography.subtitle2.fontWeight,lineHeight:t.typography.subtitle2.lineHeight},o={offsetY:8,color:t.palette.text.primary,fontSize:t.typography.h3.fontSize,fontWeight:t.typography.h3.fontWeight,lineHeight:t.typography.h3.lineHeight},d={colors:[t.palette.primary.main,t.palette.warning.main,t.palette.info.main,t.palette.error.main,t.palette.success.main,t.palette.warning.dark,t.palette.success.darker,t.palette.info.dark,t.palette.info.darker],chart:{toolbar:{show:!1},zoom:{enabled:!1},foreColor:t.palette.text.disabled,fontFamily:t.typography.fontFamily},states:{hover:{filter:{type:"lighten",value:.04}},active:{filter:{type:"darken",value:.88}}},fill:{opacity:1,gradient:{type:"vertical",shadeIntensity:0,opacityFrom:.4,opacityTo:0,stops:[0,100]}},dataLabels:{enabled:!1},stroke:{width:3,curve:"smooth",lineCap:"round"},grid:{strokeDashArray:3,borderColor:t.palette.divider,xaxis:{lines:{show:!1}}},xaxis:{axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{},markers:{size:0,strokeColors:t.palette.background.paper},tooltip:{theme:!1,x:{show:!0}},legend:{show:!0,fontSize:13,position:"top",horizontalAlign:"right",markers:{radius:12},fontWeight:500,itemMargin:{horizontal:8},labels:{colors:t.palette.text.primary}},plotOptions:{bar:{borderRadius:a?3:1,columnWidth:"28%",borderRadiusApplication:"end",borderRadiusWhenStacked:"last"},pie:{donut:{labels:{show:!0,value:o,total:r}}},radialBar:{track:{strokeWidth:"100%",background:(0,l.Fq)(t.palette.grey[500],.16)},dataLabels:{value:o,total:r}},radar:{polygons:{fill:{colors:["transparent"]},strokeColors:t.palette.divider,connectorColors:t.palette.divider}},polarArea:{rings:{strokeColor:t.palette.divider},spokes:{connectorColors:t.palette.divider}}},responsive:[{breakpoint:t.breakpoints.values.sm,options:{plotOptions:{bar:{columnWidth:"40%"}}}},{breakpoint:t.breakpoints.values.md,options:{plotOptions:{bar:{columnWidth:"32%"}}}}]};return n()(d,e)}},91029:(e,t,a)=>{a.r(t),a.d(t,{TrendPageViews:()=>$});var r=a(2784),o=a(17029),n=a(55312),i=a(8120),l=a(48449),s=a(96027),d=a(79312),h=a(41740),c=a(56961),p=a(47746),m=a(73454);var u=a(31461),g=a(7896),f=a(99332),b=a(28165),y=a(76224);var x=a(47591),v=a(65992),w=a(43853),k=a(47645),C=a(6970);function Z(e){return(0,C.ZP)("MuiSkeleton",e)}(0,k.Z)("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);var S=a(52322);const E=["animation","className","component","height","style","variant","width"];let D,R,I,A,F=e=>e;const W=(0,b.F4)(D||(D=F`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),z=(0,b.F4)(R||(R=F`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),B=(0,v.ZP)("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.variant],!1!==a.animation&&t[a.animation],a.hasChildren&&t.withChildren,a.hasChildren&&!a.width&&t.fitContent,a.hasChildren&&!a.height&&t.heightAuto]}})((({theme:e,ownerState:t})=>{const a=(n=e.shape.borderRadius,String(n).match(/[\d.\-+]*\s*(.*)/)[1]||""||"px"),r=(o=e.shape.borderRadius,parseFloat(o));var o,n;return(0,g.Z)({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:(0,x.Fq)(e.palette.text.primary,"light"===e.palette.mode?.11:.13),height:"1.2em"},"text"===t.variant&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${a}/${Math.round(r/.6*10)/10}${a}`,"&:empty:before":{content:'"\\00a0"'}},"circular"===t.variant&&{borderRadius:"50%"},"rounded"===t.variant&&{borderRadius:(e.vars||e).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})}),(({ownerState:e})=>"pulse"===e.animation&&(0,b.iv)(I||(I=F`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),W)),(({ownerState:e,theme:t})=>"wave"===e.animation&&(0,b.iv)(A||(A=F`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),z,(t.vars||t).palette.action.hover))),L=r.forwardRef((function(e,t){const a=(0,w.Z)({props:e,name:"MuiSkeleton"}),{animation:r="pulse",className:o,component:n="span",height:i,style:l,variant:s="text",width:d}=a,h=(0,u.Z)(a,E),c=(0,g.Z)({},a,{animation:r,component:n,variant:s,hasChildren:Boolean(h.children)}),p=(e=>{const{classes:t,variant:a,animation:r,hasChildren:o,width:n,height:i}=e,l={root:["root",a,r,o&&"withChildren",o&&!n&&"fitContent",o&&!i&&"heightAuto"]};return(0,y.Z)(l,Z,t)})(c);return(0,S.jsx)(B,(0,g.Z)({as:n,ref:t,className:(0,f.Z)(p.root,o),ownerState:c},h,{style:(0,g.Z)({width:d,height:i},l)}))})),M=function(){return r.createElement("div",{style:{width:"100%",height:"250px",position:"relative"}},r.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}},r.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",padding:"0 20px",boxSizing:"border-box"}},r.createElement("div",{style:{width:"20px"}},r.createElement(L,{variant:"text",height:20})),r.createElement("div",{style:{flexGrow:1,marginLeft:"20px"}},r.createElement("div",{style:{width:"100%",height:"200px",display:"flex",flexDirection:"column",justifyContent:"space-between"}},[...Array(5).keys()].map((e=>r.createElement("div",{key:e,style:{width:"100%",height:"4px",backgroundColor:"rgba(0,0,0,0.1)",borderRadius:"2px"}},r.createElement(L,{variant:"text",width:0,height:0})))))),r.createElement("div",{style:{width:"20px",marginLeft:"20px"}},r.createElement(L,{variant:"text",height:20})))),r.createElement("div",{style:{position:"absolute",bottom:"0",left:"20px"}},[...Array(5).keys()].map((e=>r.createElement("div",{key:e,style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0.1)",marginBottom:"50px"}},r.createElement(L,{variant:"text",width:0,height:0}))))))},P=function(e){let{domainID:t,startDate:a,endDate:o}=e;const n=(0,p.Z)(),[i,u]=(0,r.useState)([]),[g,f]=(0,r.useState)([]),[b,y]=(0,r.useState)([]),[x,v]=(0,r.useState)(null),[w,k]=(0,r.useState)(!1),C=(0,l.Q)({colors:[n.palette.primary.light],xaxis:{categories:g,labels:{rotate:0}},legend:{show:!1},yaxis:{labels:{formatter:(e,t)=>S(e)}},tooltip:{x:{formatter:(e,t)=>b[t.dataPointIndex],show:!0},y:{formatter:(e,t)=>S(t.series[0][t.dataPointIndex])}}});function Z(e){const[t,a,r]=null!==e?e.split("-"):[0,"Jan","0"],o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(a,10)-1];return"".concat(parseInt(r,10)," ").concat(o)}function S(e){return Intl.NumberFormat("en",{notation:"compact"}).format(e)}return(0,r.useEffect)((()=>{!async function(){k(!0);const{res:e,error:r}=await async function(e){let{domainID:t,start_date:a,end_date:r}=e;try{const e=await fetch("".concat((0,m.ZQ)(),"/domain/pageview/").concat(t,"?start_date=").concat(a,"&end_date=").concat(r),{headers:{Authorization:"Bearer ".concat((0,m.YT)(!1))}}),o=await e.json(),n=o.map((e=>{var t;return null!==(t=e.pageview)&&void 0!==t?t:0})),i=o.map((e=>function(e){const t=new Date(e),a=t.toLocaleString("default",{month:"long"}),r=t.getDate(),o=t.getFullYear();return"".concat(a," ").concat(r,", ").concat(o)}(e.date)));let l=[];if(i.length>5){const e=i.length,t=Math.floor(e/5),a=[0,t,2*t,3*t,4*t,e-1];for(let e=0;e<a.length-1;e++){l.push(i[a[e]]);const t=a[e],r=a[e+1];for(let e=t+1;e<r;e++)l.push("")}l.push(i[e-1])}else l=i;return{res:{data:n,originalCategories:i,filteredCategories:l},error:null}}catch(e){return console.log("Error: ",e),{res:{data:null,originalCategories:null,filteredCategories:null},error:e}}}({domainID:t,start_date:a,end_date:o});k(!1),r?v("Some thing has gone wrong."):(v(null),f(e.filteredCategories),y(e.originalCategories),u(e.data))}()}),[t,o,a]),r.createElement(h.Z,{sx:{overflow:"visible"}},r.createElement(s.Z,{sx:{p:2,height:"370px"}},r.createElement(d.Z,{variant:"h5",color:"#0F172A",sx:{mb:1}},S(i.reduce(((e,t)=>e+t),0))),r.createElement(d.Z,{fontWeight:500,fontSize:15,color:"#64748B",sx:{mb:2}},"Page Views: ",Z(a)," - ",Z(o)),r.createElement(c.Z,{sx:{mb:2}}),w?r.createElement(M,null):0!==i.length?r.createElement(l.Z,{type:"line",series:[{name:"Page View",data:i}],options:C,width:"100%",height:"250px"}):x?r.createElement(h.Z,{sx:{display:"flex",height:"250px",justifyContent:"center",alignItems:"center",textAlign:"center"}},r.createElement(d.Z,{color:"#64748B"},x)):r.createElement(h.Z,{sx:{display:"flex",height:"250px",justifyContent:"center",alignItems:"center",textAlign:"center"}},r.createElement(d.Z,{color:"#64748B"},"Not enough data to show here. If you have recently signed up. It may take a while to prepare these report"))))},T=function(e){let{domainID:t,startDate:a,endDate:o}=e;return r.createElement(i.mu,{defaultSettings:{themeMode:"light",themeDirection:"ltr",themeContrast:"default",themeLayout:"vertical",themeColorPresets:"blue",themeStretch:!1}},r.createElement(n.Z,null,r.createElement(P,{domainID:t,startDate:a,endDate:o})))};function $(e){let{id:t,domainID:a,startDate:n,endDate:i}=e;if("local-testing-root"!==t)return r.createElement(T,{domainID:a,startDate:n,endDate:i});o.createRoot(document.getElementById(t)).render(r.createElement(r.StrictMode,null,r.createElement(T,{domainID:a,startDate:n,endDate:i})))}a(9283).Z.configure((e=>"rl-mfe-tpv ".concat(e)))}}]);