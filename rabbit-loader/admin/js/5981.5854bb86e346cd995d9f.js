"use strict";(this.webpackChunkRLAdmin=this.webpackChunkRLAdmin||[]).push([[5981],{11993:(e,t,r)=>{function a(e){return"__proto__"===e}r.d(t,{h:()=>i});var n=r(4903);function i(e,t){const r=Object.keys(t);for(let o=0;o<r.length;o++){const l=r[o];if(a(l))continue;const s=t[l],c=e[l];Array.isArray(s)?Array.isArray(c)?e[l]=i(c,s):e[l]=i([],s):(0,n.Q)(s)?(0,n.Q)(c)?e[l]=i(c,s):e[l]=i({},s):void 0!==c&&void 0===s||(e[l]=s)}return e}},24605:(e,t,r)=>{r.d(t,{TrendPageViews:()=>R});var a=r(14041),n=r(25873),i=r(68430),o=r(63600),l=r(37947),s=r(12302),c=r(65990),d=r(15189),p=r(27502),h=r(6530),g=r(84088),u=r(15891),m=r(37296),f=r(69597);var y=r(22854);const v=function(){return a.createElement("div",{style:{width:"100%",height:"250px",position:"relative"}},a.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}},a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",padding:"0 20px",boxSizing:"border-box"}},a.createElement("div",{style:{width:"20px"}},a.createElement(y.A,{variant:"text",height:20})),a.createElement("div",{style:{flexGrow:1,marginLeft:"20px"}},a.createElement("div",{style:{width:"100%",height:"200px",display:"flex",flexDirection:"column",justifyContent:"space-between"}},[...Array(5).keys()].map(e=>a.createElement("div",{key:e,style:{width:"100%",height:"4px",backgroundColor:"rgba(0,0,0,0.1)",borderRadius:"2px"}},a.createElement(y.A,{variant:"text",width:0,height:0}))))),a.createElement("div",{style:{width:"20px",marginLeft:"20px"}},a.createElement(y.A,{variant:"text",height:20})))),a.createElement("div",{style:{position:"absolute",bottom:"0",left:"20px"}},[...Array(5).keys()].map(e=>a.createElement("div",{key:e,style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0.1)",marginBottom:"50px"}},a.createElement(y.A,{variant:"text",width:0,height:0})))))};var b=function(e){return e[e.Last7Days=0]="Last7Days",e[e.Last30Days=1]="Last30Days",e[e.Last90Days=2]="Last90Days",e}(b||{});const w={[b.Last7Days]:"Last 7 Days",[b.Last30Days]:"Last 30 Days",[b.Last90Days]:"Last 90 Days"},x=function(e){let{domainID:t}=e;const r=(0,h.A)(),[n,i]=(0,a.useState)([]),[o,y]=(0,a.useState)([]),[x,A]=(0,a.useState)([]),[D,E]=(0,a.useState)(null),[S,R]=(0,a.useState)(!1),[L,I]=(0,a.useState)(b.Last30Days),C=(0,a.useCallback)(e=>e.toISOString().split("T")[0],[]),j=(0,a.useMemo)(()=>C(new Date),[C]),O=(0,a.useMemo)(()=>{const e=new Date;return L===b.Last7Days?e.setDate(e.getDate()-7):L===b.Last30Days?e.setDate(e.getDate()-30):L===b.Last90Days&&e.setDate(e.getDate()-90),C(e)},[L,C]),k=(0,l.uy)({colors:[r.palette.primary.light],xaxis:{categories:o,labels:{rotate:0}},legend:{show:!1},yaxis:{labels:{formatter:(e,t)=>_(e)}},tooltip:{x:{formatter:(e,t)=>x[t.dataPointIndex],show:!0},y:{formatter:(e,t)=>_(t.series[0][t.dataPointIndex])}}});function P(e){const[t,r,a]=null!==e?e.split("-"):[0,"Jan","0"],n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(r,10)-1];return"".concat(parseInt(a,10)," ").concat(n)}function _(e){return Intl.NumberFormat("en",{notation:"compact"}).format(e)}return(0,a.useEffect)(()=>{!async function(){R(!0);const{res:e,error:r}=await async function(e){let{domainID:t,start_date:r,end_date:a}=e;try{const e=await fetch("".concat((0,f.N4)(),"/domain/pageview/").concat(t,"?start_date=").concat(r,"&end_date=").concat(a),{headers:{Authorization:"Bearer ".concat((0,f.w9)(!1))}}),n=await e.json(),i=n.map(e=>{var t;return null!==(t=e.pageview)&&void 0!==t?t:0}),o=n.map(e=>function(e){const t=new Date(e),r=t.toLocaleString("default",{month:"long"}),a=t.getDate(),n=t.getFullYear();return"".concat(r," ").concat(a,", ").concat(n)}(e.date));let l=[];if(o.length>5){const e=o.length,t=Math.floor(e/5),r=[0,t,2*t,3*t,4*t,e-1];for(let e=0;e<r.length-1;e++){l.push(o[r[e]]);const t=r[e],a=r[e+1];for(let e=t+1;e<a;e++)l.push("")}l.push(o[e-1])}else l=o;return{res:{data:i,originalCategories:o,filteredCategories:l},error:null}}catch(e){return console.log("Error: ",e),{res:{data:null,originalCategories:null,filteredCategories:null},error:e}}}({domainID:t,start_date:O,end_date:j});if(R(!1),r)return i([]),void E("Some thing has gone wrong.");E(null),y(e.filteredCategories),A(e.originalCategories),i(e.data)}()},[t,j,O]),React.createElement(d.A,{sx:{overflow:"visible"},className:"rl-mfe-trend-pageviews"},React.createElement(s.A,{sx:{p:2,height:"370px",boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.2)"}},React.createElement(d.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement(d.A,null,React.createElement(c.A,{variant:"h5",color:"#0F172A",sx:{mb:1}},_(n.reduce((e,t)=>e+t,0))),React.createElement(c.A,{fontWeight:500,fontSize:15,color:"#64748B",sx:{mb:2}},"Page Views ",P(O)," -"," ",P(j))),React.createElement(g.A,null,React.createElement(u.A,{value:L,onChange:e=>{"string"==typeof e.target.value?I(parseInt(e.target.value)):I(e.target.value)},size:"small"},Object.entries(w).map(e=>{let[t,r]=e;return React.createElement(m.A,{key:t,value:t},r)})))),React.createElement(p.A,{sx:{mb:2}}),S?React.createElement(v,null):0!==n.length?React.createElement(l.t1,{type:"line",series:[{name:"Page View",data:n}],options:k,width:"100%",height:"250px"}):D?React.createElement(d.A,{sx:{display:"flex",height:"250px",justifyContent:"center",alignItems:"center",textAlign:"center"}},React.createElement(c.A,{color:"#64748B"},D)):React.createElement(d.A,{sx:{display:"flex",height:"250px",justifyContent:"center",alignItems:"center",textAlign:"center"}},React.createElement(c.A,{color:"#64748B"},"Not enough data to show here. If you have recently signed up. It may take a while to prepare these report"))))};function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach(function(t){E(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function E(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const S=function(e){let{domainID:t}=e;return React.createElement(o.Z6,{defaultSettings:D(D({},o.L6),{},{primaryColor:"preset1",direction:"ltr",contrast:"hight"})},React.createElement(i.NP,{noSsr:!0,defaultMode:i.q_.defaultMode,modeStorageKey:i.q_.modeStorageKey},React.createElement(x,{domainID:t})))};function R(e){let{id:t,domainID:r}=e;if("local-testing-root"!==t)return a.createElement(S,{domainID:r});{const e=document.getElementById(t);if(!e)return void console.warn("No element found with id: ",t);n.createRoot(e).render(a.createElement(a.StrictMode,null,a.createElement(S,{domainID:r})))}}},27502:(e,t,r)=>{r.d(t,{A:()=>m});var a=r(14041),n=r(54357),i=r(90028),o=r(85279),l=r(59193),s=r(7974),c=r(49556),d=r(67428),p=r(31085);const h=(0,l.Ay)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,"vertical"===r.orientation&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&"vertical"===r.orientation&&t.withChildrenVertical,"right"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignRight,"left"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignLeft]}})((0,s.A)(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:(0,o.X4)(e.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&"vertical"!==e.orientation,style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>"vertical"===e.orientation&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>"right"===e.textAlign&&"vertical"!==e.orientation,style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>"left"===e.textAlign&&"vertical"!==e.orientation,style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),g=(0,l.Ay)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.wrapper,"vertical"===r.orientation&&t.wrapperVertical]}})((0,s.A)(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),u=a.forwardRef(function(e,t){const r=(0,c.b)({props:e,name:"MuiDivider"}),{absolute:a=!1,children:o,className:l,orientation:s="horizontal",component:u=(o||"vertical"===s?"div":"hr"),flexItem:m=!1,light:f=!1,role:y=("hr"!==u?"separator":void 0),textAlign:v="center",variant:b="fullWidth",...w}=r,x={...r,absolute:a,component:u,flexItem:m,light:f,orientation:s,role:y,textAlign:v,variant:b},A=(e=>{const{absolute:t,children:r,classes:a,flexItem:n,light:o,orientation:l,textAlign:s,variant:c}=e,p={root:["root",t&&"absolute",c,o&&"light","vertical"===l&&"vertical",n&&"flexItem",r&&"withChildren",r&&"vertical"===l&&"withChildrenVertical","right"===s&&"vertical"!==l&&"textAlignRight","left"===s&&"vertical"!==l&&"textAlignLeft"],wrapper:["wrapper","vertical"===l&&"wrapperVertical"]};return(0,i.A)(p,d.K,a)})(x);return(0,p.jsx)(h,{as:u,className:(0,n.A)(A.root,l),role:y,ref:t,ownerState:x,"aria-orientation":"separator"!==y||"hr"===u&&"vertical"!==s?void 0:s,...w,children:o?(0,p.jsx)(g,{className:A.wrapper,ownerState:x,children:o}):null})});u&&(u.muiSkipListHighlight=!0);const m=u}}]);