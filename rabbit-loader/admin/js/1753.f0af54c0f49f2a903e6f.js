"use strict";(this.webpackChunkRLAdmin=this.webpackChunkRLAdmin||[]).push([[1753],{5370(e,t,r){r.d(t,{kB:()=>l});const n={US:"USD",GB:"GBP",EU:"EUR",DE:"EUR",FR:"EUR",ES:"EUR",IT:"EUR",NL:"EUR",PT:"EUR",IE:"EUR",AT:"EUR",BE:"EUR",FI:"EUR",GR:"EUR",LU:"EUR",CY:"EUR",MT:"EUR",SK:"EUR",SI:"EUR",LV:"EUR",LT:"EUR",EE:"EUR",CA:"CAD",AU:"AUD",NZ:"NZD",SG:"SGD",HK:"HKD",IN:"INR",JP:"JPY",CN:"CNY",TW:"TWD",KR:"KRW",BR:"BRL",MX:"MXN",AR:"ARS",CL:"CLP",CO:"COP",PE:"PEN",RU:"RUB",SA:"SAR",AE:"AED",TR:"TRY",ZA:"ZAR",TH:"THB",ID:"IDR",VN:"VND",PH:"PHP",MY:"MYR",CH:"CHF",NO:"NOK",SE:"SEK",DK:"DKK",CZ:"CZK",PL:"PLN",HU:"HUF",IL:"ILS",PK:"PKR",BD:"BDT",LK:"LKR",NP:"NPR"},a={en:"USD",pt:"EUR",zh:"CNY",es:"EUR",fr:"EUR",de:"EUR",it:"EUR",ja:"JPY",ko:"KRW"};function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const s={code:"en-US",currency:"USD"};function l(e,t){const r=function(){var e,t,r,i;let o="undefined"!=typeof navigator&&((null===(e=navigator.languages)||void 0===e?void 0:e[0])||navigator.language)||"undefined"!=typeof Intl&&(null===(t=Intl.DateTimeFormat)||void 0===t||null===(r=(i=t.call(Intl)).resolvedOptions)||void 0===r?void 0:r.call(i).locale)||"en-US";o=o.replace("_","-");const[s,l]=o.split("-"),c=(s||"en").toLowerCase(),u=(l||"").toUpperCase();let d="USD";return u&&n[u]?d=n[u]:a[c]&&(d=a[c]),{code:u?"".concat(c,"-").concat(u):c,currency:d}}()||s,l=function(e){return null==e||Number.isNaN(e)?null:Number(e)}(e);return null===l?"":new Intl.NumberFormat(r.code,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({minimumFractionDigits:0,maximumFractionDigits:2},t)).format(l)}},20660(e,t,r){r.r(t),r.d(t,{default:()=>g});var n=r(53529),a=r(97600),i=r(92991),o=r(32017),s=r(95663),l=r(18755),c=r(36629),u=r(14041);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(null,arguments)}const p=(0,u.forwardRef)(function(e,t){return u.createElement(c.A,d({direction:"up",ref:t},e))});function g(e){let{lighthouseJSONErrMessage:t,title:r=""}=e;const[c,d]=(0,u.useState)(!0),g=()=>{d(!1)};return u.createElement(u.Fragment,null,u.createElement(a.A,{open:c,TransitionComponent:p,keepMounted:!0,onClose:g,"aria-describedby":"alert-dialog-slide-description"},u.createElement(l.A,null,r.length>0?r:"Lighthouse is experiencing an issue!"),u.createElement(o.A,null,u.createElement(s.A,{id:"alert-dialog-slide-description"},t)),u.createElement(i.A,null,u.createElement(n.A,{onClick:g},"Ok"))))}},79537(e,t,r){r.d(t,{DoWarmup:()=>b});var n=r(67186);function a(e,t,r){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,r)}function i(e,t){return e.get(function(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}(e,t))}let o;function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){c(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e){var t=new WeakMap;class r extends n.Message{constructor(e){super(),a(this,t,[]),n.Message.initialize(this,Array.isArray(e)?e:[],0,-1,[],i(t,this)),Array.isArray(e)||"object"!=typeof e||"targetUrl"in e&&null!=e.targetUrl&&(this.targetUrl=e.targetUrl)}get targetUrl(){return n.Message.getFieldWithDefault(this,1,"")}set targetUrl(e){n.Message.setField(this,1,e)}static fromObject(e){const t=new r({});return null!=e.targetUrl&&(t.targetUrl=e.targetUrl),t}toObject(){const e={};return null!=this.targetUrl&&(e.targetUrl=this.targetUrl),e}serialize(e){const t=e||new n.BinaryWriter;if(this.targetUrl.length&&t.writeString(1,this.targetUrl),!e)return t.getResultBuffer()}static deserialize(e){const t=e instanceof n.BinaryReader?e:new n.BinaryReader(e),a=new r;for(;t.nextField()&&!t.isEndGroup();)1===t.getFieldNumber()?a.targetUrl=t.readString():t.skipField();return a}serializeBinary(){return this.serialize()}static deserializeBinary(e){return r.deserialize(e)}}e.WarmupRequest=r;var o=new WeakMap;class s extends n.Message{constructor(e){super(),a(this,o,[]),n.Message.initialize(this,Array.isArray(e)?e:[],0,-1,[],i(o,this)),Array.isArray(e)}static fromObject(e){return new s({})}toObject(){return{}}serialize(e){const t=e||new n.BinaryWriter;if(!e)return t.getResultBuffer()}static deserialize(e){const t=e instanceof n.BinaryReader?e:new n.BinaryReader(e),r=new s;for(;t.nextField()&&!t.isEndGroup();)t.getFieldNumber(),t.skipField();return r}serializeBinary(){return this.serialize()}static deserializeBinary(e){return s.deserialize(e)}}e.WarmupResponse=s;var l=new WeakMap;class c extends n.Message{constructor(e){super(),a(this,l,[]),n.Message.initialize(this,Array.isArray(e)?e:[],0,-1,[],i(l,this)),Array.isArray(e)||"object"!=typeof e||"targetUrl"in e&&null!=e.targetUrl&&(this.targetUrl=e.targetUrl)}get targetUrl(){return n.Message.getFieldWithDefault(this,1,"")}set targetUrl(e){n.Message.setField(this,1,e)}static fromObject(e){const t=new c({});return null!=e.targetUrl&&(t.targetUrl=e.targetUrl),t}toObject(){const e={};return null!=this.targetUrl&&(e.targetUrl=this.targetUrl),e}serialize(e){const t=e||new n.BinaryWriter;if(this.targetUrl.length&&t.writeString(1,this.targetUrl),!e)return t.getResultBuffer()}static deserialize(e){const t=e instanceof n.BinaryReader?e:new n.BinaryReader(e),r=new c;for(;t.nextField()&&!t.isEndGroup();)1===t.getFieldNumber()?r.targetUrl=t.readString():t.skipField();return r}serializeBinary(){return this.serialize()}static deserializeBinary(e){return c.deserialize(e)}}e.PurgeAllRequest=c;var u=new WeakMap;class d extends n.Message{constructor(e){super(),a(this,u,[]),n.Message.initialize(this,Array.isArray(e)?e:[],0,-1,[],i(u,this)),Array.isArray(e)}static fromObject(e){return new d({})}toObject(){return{}}serialize(e){const t=e||new n.BinaryWriter;if(!e)return t.getResultBuffer()}static deserialize(e){const t=e instanceof n.BinaryReader?e:new n.BinaryReader(e),r=new d;for(;t.nextField()&&!t.isEndGroup();)t.getFieldNumber(),t.skipField();return r}serializeBinary(){return this.serialize()}static deserializeBinary(e){return d.deserialize(e)}}e.PurgeAllResponse=d}(o||(o={}));const u=3e5,d=3,p=[500,502,503],g=!1;class f extends Error{constructor(e){super(e),this.name="MissingPathVarError"}}const m=new f("path variable is missing");var h=r(69597);async function b(e){const t=(e=>(console.debug("repairURL before:",e),e.startsWith("http")||(e="https://"+e),console.debug("repairURL after:",e),e))(e);if(new URL(t).host!==window.location.host){const e=new o.WarmupRequest;e.targetUrl=t;const[r,n]=await function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;const{timeout:a=u,retryCount:i=d,retryableCodes:s=p,contentTypeJson:c=g}=t;let{newPath:f,missingVar:h}=function(e,t){let r=!1,n=e;for(const[e,r]of Object.entries(t))n=n.replace(e,r);return r=n.includes("{"),{newPath:n,missingVar:r}}(n+"/rlwarmupproxy/warmup",t.pathVars||{});if(h)return Promise.reject(m);const b=e.serializeBinary(),y=l({method:"GET",headers:new Headers(l({Authorization:"Bearer ".concat(r),"Content-Type":c?"application/json":"application/x-protobuf",Accept:c?"application/json":"application/x-protobuf"},Object.fromEntries(t.headers||new Headers)))},t.cache?{cache:t.cache}:{});return f=f+"?"+new URLSearchParams({get_params:btoa(String.fromCharCode.apply(null,Array.from(b)))}),async function e(t){try{const r=await fetch(f,y);if(!r.ok&&s.includes(r.status)&&0!==t)return e(t-1);if(c)try{return[await r.json(),r.status]}catch(e){return console.log("error in reading response body: ",e),[new o.WarmupResponse,r.status]}try{const e=await r.arrayBuffer();if(0===e.byteLength)return[new o.WarmupResponse,r.status];const t=new Uint8Array(e);return[o.WarmupResponse.deserialize(t),r.status]}catch(e){return console.error("error in reading response body",e),[new o.WarmupResponse,r.status]}}catch(e){return console.log("error getting data: ",e),[new o.WarmupResponse,0]}}(i)}(e,{},"",(0,h.HZ)());return n}const r=new URL(t);return r.searchParams.append("rl-warmup","1"),r.searchParams.append("rl-rand",String(Math.floor((new Date).getTime()/1e3))),r.searchParams.append("rl-only-after",String(Math.floor((new Date).getTime()/1e3))),(await fetch(r,{credentials:"omit"})).status}},79744(e,t,r){r.d(t,{v:()=>g});var n=r(91582),a=(r(14041),r(86966),r(98927)),i=r(59193),o=r(42428);const s={root:(0,o.L)("snackbar__root"),toast:(0,o.L)("snackbar__toast"),title:(0,o.L)("snackbar__title"),icon:(0,o.L)("snackbar__icon"),iconSvg:(0,o.L)("snackbar__icon__svg"),content:(0,o.L)("snackbar__content"),description:(0,o.L)("snackbar__description"),actionButton:(0,o.L)("snackbar__action__button"),cancelButton:(0,o.L)("snackbar__cancel__button"),closeButton:(0,o.L)("snackbar__close_button"),loadingIcon:(0,o.L)("snackbar__loading_icon"),default:(0,o.L)("snackbar__default"),error:(0,o.L)("snackbar__error"),success:(0,o.L)("snackbar__success"),warning:(0,o.L)("snackbar__warning"),info:(0,o.L)("snackbar__info"),loader:"sonner-loader",loaderVisible:'&[data-visible="true"]',closeBtnVisible:'[data-close-button="true"]'};function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){u(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(0,i.Ay)(n.l$)(e=>{let{theme:t}=e;const r={toastDefault:{padding:t.spacing(1,1,1,1.5),boxShadow:t.vars.customShadows.z8,color:t.vars.palette.background.paper,backgroundColor:t.vars.palette.text.primary},toastColor:{padding:t.spacing(.5,1,.5,.5),boxShadow:t.vars.customShadows.z8,color:t.vars.palette.text.primary,backgroundColor:t.vars.palette.background.paper},toastLoader:{padding:t.spacing(.5,1,.5,.5),boxShadow:t.vars.customShadows.z8,color:t.vars.palette.text.primary,backgroundColor:t.vars.palette.background.paper}},n={top:0,left:0,width:"100%",height:"100%",display:"none",transform:"none",overflow:"hidden",alignItems:"center",position:"relative",borderRadius:"inherit",justifyContent:"center",background:t.vars.palette.background.neutral,["& .".concat(s.loadingIcon)]:{zIndex:9,width:24,height:24,borderRadius:"50%",animation:"rotate 3s infinite linear",background:"conic-gradient(transparent, ".concat((0,a.IG)(t.vars.palette.text.disabledChannel,.64),")")},[s.loaderVisible]:{display:"flex"}};return{width:300,["& .".concat(s.toast)]:{gap:12,width:"100%",minHeight:52,display:"flex",borderRadius:12,alignItems:"center"},["& .".concat(s.content)]:{gap:0,flex:"1 1 auto"},["& .".concat(s.title)]:{fontSize:t.typography.caption.fontSize,fontWeight:t.typography.subtitle1.fontWeight},["& .".concat(s.description)]:c(c({},t.typography.caption),{},{opacity:.64}),["& .".concat(s.actionButton)]:{},["& .".concat(s.cancelButton)]:{},["& .".concat(s.closeButton)]:{top:0,right:0,left:"auto",color:"currentColor",backgroundColor:"transparent",transform:"translate(-6px, 6px)",borderColor:(0,a.IG)(t.vars.palette.grey["500Channel"],.16),transition:t.transitions.create(["background-color","border-color"]),"&:hover":{borderColor:(0,a.IG)(t.vars.palette.grey["500Channel"],.24),backgroundColor:(0,a.IG)(t.vars.palette.grey["500Channel"],.08)}},["& .".concat(s.icon)]:{margin:0,width:48,height:48,alignItems:"center",borderRadius:"inherit",justifyContent:"center",alignSelf:"flex-start",["& .".concat(s.iconSvg)]:{width:24,height:24,fontSize:0}},"@keyframes rotate":{to:{transform:"rotate(1turn)"}},["& .".concat(s.default)]:c(c({},r.toastDefault),{},{["&:has(".concat(s.closeBtnVisible,")")]:{["& .".concat(s.content)]:{paddingRight:32}},["&:has(.".concat(s.loader,")")]:r.toastLoader,["&:has(.".concat(s.loader,")")]:r.toastLoader,["& .".concat(s.loader)]:n}),["& .".concat(s.error)]:c(c({},r.toastColor),{},{["& .".concat(s.icon)]:{color:t.vars.palette.error.main,backgroundColor:(0,a.IG)(t.vars.palette.error.mainChannel,.08)}}),["& .".concat(s.success)]:c(c({},r.toastColor),{},{["& .".concat(s.icon)]:{color:t.vars.palette.success.main,backgroundColor:(0,a.IG)(t.vars.palette.success.mainChannel,.08)}}),["& .".concat(s.warning)]:c(c({},r.toastColor),{},{["& .".concat(s.icon)]:{color:t.vars.palette.warning.main,backgroundColor:(0,a.IG)(t.vars.palette.warning.mainChannel,.08)}}),["& .".concat(s.info)]:c(c({},r.toastColor),{},{["& .".concat(s.icon)]:{color:t.vars.palette.info.main,backgroundColor:(0,a.IG)(t.vars.palette.info.mainChannel,.08)}})}});const d=new Map,p=[401,403,402,417,500,503];function g(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",a=arguments.length>3?arguments[3]:void 0;const i=()=>{if(a)switch(r){case"success":n.oR.success(e,a);break;case"error":n.oR.error(e,a);break;case"warning":n.oR.warning(e,a);break;case"info":n.oR.info(e,a);break;default:(0,n.oR)(e,a)}else switch(r){case"success":n.oR.success(e);break;case"error":n.oR.error(e);break;case"warning":n.oR.warning(e);break;case"info":n.oR.info(e);break;default:(0,n.oR)(e)}};if(p.includes(t)){if(d.has(t)){const e=d.get(t);e&&clearTimeout(e)}const e=setTimeout(()=>{i()},500);d.set(t,e)}else i()}},95020(e,t,r){r.d(t,{w:()=>M});var n=r(14041),a=r(25873),i=r(57621),o=r(68430),s=r(63600),l=r(20660),c=r(37947),u=r(72393),d=r(70927);function p(e){let{value:t}=e;const r=(0,d.A)(),n=()=>t>=90?[r.palette.success.light,r.palette.success.main]:t>=50?[r.palette.warning.light,r.palette.warning.main]:[r.palette.error.light,r.palette.error.main],a=(0,c.uy)({legend:{show:!1},fill:{type:"gradient",gradient:{colorStops:[{offset:0,color:n()[0],opacity:1},{offset:100,color:n()[1],opacity:1}]}},plotOptions:{radialBar:{hollow:{size:"80%"},dataLabels:{name:{offsetY:-16},value:{offsetY:8},total:{label:"Score",formatter:()=>"".concat(t)}}}}});return React.createElement(u.t,{dir:"ltr",type:"radialBar",series:[t],options:a})}var g=r(65639),f=r(60589),m=r(92825),h=r(65990),b=r(16481);function y(e){let{progress:t}=e;return n.createElement(m.A,{spacing:1},n.createElement(m.A,{direction:"row",alignItems:"center"},n.createElement(h.A,{variant:"subtitle2",sx:{flexGrow:1}},t.title),n.createElement(h.A,{variant:"body2",sx:{color:"text.secondary"}},"Â (",function(e){if(!e)return"0%";const t=Number(e)/100;return new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:1}).format(t)}(t.value),")")),n.createElement(b.A,{variant:"determinate",value:t.value,color:(t.value<=30?"info":t.value<=60&&"warning")||"primary"}))}var v=r(5370);function w(e){if(!e)return"";if(!e.includes("-"))return e;const t=e.split("-").join(" ");return t.charAt(0).toUpperCase()+t.slice(1)}function R(e){return e?parseFloat((0,v.kB)(100*e)):0}const E=e=>{var t,r,a;let{lighthouseJSON:i,title:o}=e;return i.error&&i.error.message?n.createElement(l.default,{lighthouseJSONErrMessage:i.error.message}):n.createElement(g.A,{sx:{display:"flex",width:"100%",height:"100%",justifyContent:"space-evenly",columnGap:3}},n.createElement(g.A,{sx:{width:"100%"}},n.createElement(f.A,{variant:"h6",sx:{mb:2,textAlign:"center"}},o),n.createElement(g.A,{sx:{display:"flex",flexDirection:"column",gap:2}},n.createElement(g.A,null,n.createElement(p,{value:R(null==i||null===(t=i.lighthouseResult)||void 0===t||null===(t=t.categories)||void 0===t||null===(t=t.performance)||void 0===t?void 0:t.score)})),Object.values(null!==(r=null==i||null===(a=i.lighthouseResult)||void 0===a?void 0:a.audits)&&void 0!==r?r:{}).sort((e,t)=>e.title>t.title?1:-1).map((e,t)=>null===e.title||null===e.score?n.createElement(n.Fragment,{key:t}):n.createElement(g.A,{key:t,style:{width:"100%"}},n.createElement("div",null,n.createElement(y,{progress:{title:w(e.title),value:R(e.score)}})))))))};var O=r(66215),P=r(1123),S=r(30457);const U=e=>{let{message:t}=e;const[r,a]=(0,n.useState)(!0);return n.createElement(g.A,{sx:{position:"fixed",top:0,left:0,width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},n.createElement(O.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:r},n.createElement(P.Ay,{container:!0,direction:"column",alignItems:"center",spacing:2},n.createElement(P.Ay,{item:!0},n.createElement(S.A,{color:"inherit"})),n.createElement(P.Ay,{item:!0},n.createElement(f.A,{style:{textColor:"white"},color:"white"},t)))))};var j=r(72102),k=r(96809),A=r(69597);const C={FirstContentFulPaint:"first-contentful-paint",TimeToInteractive:"interactive",SpeedIndex:"speed-index",TotalBlockingTime:"total-blocking-time",LargestContentFulPaint:"largest-contentful-paint",CumulativeLayoutShift:"cumulative-layout-shift",LargestContentFulPaintEle:"largest-contentful-paint-element"},L=async(e,t,r,n,a)=>{try{const i=((e,t,r)=>{if(null==e||null==e.audits)return void console.log("no lighthouseResult");const n=new j.I.ScoreMetrics;var a;null!=e.categories&&null!=e.categories.performance&&(n.MainScore=null==e||null===(a=e.categories)||void 0===a||null===(a=a.performance)||void 0===a?void 0:a.score);const i=e.audits;for(const e in C)if(i[C[e]])if("LargestContentFulPaintEle"===e){const t=new j.I.LCPE;var o,s;null!=i[C[e]]&&null!=i[C[e]].details&&null!=i[C[e]].details.items&&null!=i[C[e]].details.items[0]&&null!=i[C[e]].details.items[0].items&&null!=i[C[e]].details.items[0].items[0]&&null!=i[C[e]].details.items[0].items[0].node&&(t.Selector=null===(o=i[C[e]].details.items[0].items[0].node)||void 0===o?void 0:o.selector,t.Snippet=null===(s=i[C[e]].details.items[0].items[0].node)||void 0===s?void 0:s.snippet),n[e]=t}else{const t=new j.I.Score;t.numericUnit=i[C[e]].numericUnit,t.numericValue=i[C[e]].setNumericvalue,t.scale=i[C[e]].score,n[e]=t}const l=new j.I.ScoreStrategy;l.device=t||j.I.ScoreDevice.Desktop,l.version=r;const c=new j.I.SaveScoreRequest;return c.metrics=n,c.strategy=l,c})(e,n,a),o=((e,t)=>({pathVars:{"{domain_id}":e,"{url_id}":t}}))(t,r),s=(0,A.w9)(!1),l=(0,A.N4)(),[c,u]=await(0,k.ir)(i,o,s,l);200===u||console.error("Failed to save score. Status code:",u,"Error:",c)}catch(e){console.error("An error occurred while saving the score:",e)}};var x=r(69608),_=r(79537);const D=(0,n.lazy)(()=>Promise.resolve().then(r.bind(r,20660))),B=e=>{let{url:t,domain_id:r,url_id:a,device:i}=e;const[o,s]=(0,n.useState)("Warming up ...."),[l,c]=(0,n.useState)(null),[u,d]=(0,n.useState)(null),[p,f]=(0,n.useState)(""),m=(0,n.useCallback)(e=>(console.debug("repairURL before:",e),e.startsWith("http")||(e="https://"+e),console.debug("repairURL after:",e),e),[]),h=(0,n.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.indexOf("wpunittest");const r=new URL("https://www.googleapis.com/pagespeedonline/v5/runPagespeed");if(r.searchParams.append("url",e),i&&(i===j.I.ScoreDevice.Mobile?r.searchParams.append("strategy","mobile"):r.searchParams.append("strategy","desktop")),t){const e="AIzaSyAja4LWLWbP6bE1FnaDGmc9fu-YXQtOh7Y";e&&r.searchParams.append("key",e)}const n=await fetch(r);return 200!==n.status?429===n.status||n.status>=500?t||429!==n.status?(f("There is a temporary issue communicating to Google Lighthouse. Please try again in a while."),{errorMsg:"error in communicating lighthouse"}):(console.warn("Retrying with API key due to 429 rate limit."),await h(e,!0)):(f("There is an internal issue. Please try again in a while."),{errorMsg:"internal issue"}):await n.json()},[i]);return(0,n.useEffect)(()=>{if(!t)return;const e=m(t);s("Warming up ...."),(0,_.DoWarmup)(e).then(()=>{s("Analyzing with lighthouse ...."),h(e).then(e=>{c(e),e&&e.lighthouseResult&&L(null==e?void 0:e.lighthouseResult,r,a,i,j.I.ScoreVersion.Optimized)});const t=new URL(e);t.searchParams.append("norl","1"),h(t.toString()).then(e=>{d(e),e&&e.lighthouseResult&&L(null==e?void 0:e.lighthouseResult,r,a,i,j.I.ScoreVersion.Original)})})},[t,i,r,a,h,m]),React.createElement(React.Fragment,null,u&&l?React.createElement(React.Fragment,null,p&&p.length>0?React.createElement(React.Fragment,null,React.createElement(D,{lighthouseJSONErrMessage:p,title:"Lighthouse Unavailable"})):React.createElement(g.A,{sx:{display:"flex",width:"100%",height:"100%",justifyContent:"space-evenly",columnGap:3}},React.createElement(E,{lighthouseJSON:u,title:"Without RabbitLoader"}),React.createElement(x.A,{orientation:"vertical",flexItem:!0}),React.createElement(E,{lighthouseJSON:l,title:"With RabbitLoader"}))):React.createElement(React.Fragment,null,React.createElement(U,{message:o})))};function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach(function(t){F(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function F(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const N=function(e){let{url:t,domain_id:r,url_id:n,device:a}=e;return React.createElement(s.Z6,{defaultSettings:z(z({},s.L6),{},{primaryColor:"preset1",direction:"ltr",contrast:"hight"})},React.createElement(o.NP,null,React.createElement(f.A,{sx:{mt:-1,mb:2,color:"black"}},t),React.createElement("div",{className:"App",style:{display:"contents",width:"100%"}},React.createElement(B,{url:t,domain_id:r,url_id:n,device:a}),React.createElement(i.N9,null))))},M=e=>{let{id:t,url:r,domain_id:i,url_id:o,device:s}=e;if("local-testing-root"!==t)return n.createElement(N,{url:r,domain_id:i,url_id:o,device:s});a.createRoot(document.getElementById(t)).render(n.createElement(n.StrictMode,null,n.createElement(N,{url:r,domain_id:i,url_id:o,device:s})))}}}]);