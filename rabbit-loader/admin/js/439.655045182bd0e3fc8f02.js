"use strict";(this.webpackChunkRLAdmin=this.webpackChunkRLAdmin||[]).push([[439],{10439(e,t,o){o.d(t,{PerformanceSummary:()=>ne,RenderPerformanceCards:()=>ie});var r=o(25873),n=o(14041),i=o(68430),a=o(63600),l=o(15189),c=o(74702),s=o(93402),u=o(6530),d=o(22854),m=o(12302),p=o(78722),g=o(47086),h=o(37529),v=o(52711),f=o(72152),b=o(13590),y=o(47719),S=o(95949),E=o(58947),x=o(28804),A=o(65990),w=o(86966);const P=function(e){let{title:t,activeStrategy:o,onStrategyChange:r}=e;const i=(0,u.A)();return n.createElement(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"}},n.createElement(l.A,null,n.createElement(A.A,{variant:"h6",textAlign:"start",color:"textPrimary"},t),n.createElement(l.A,{sx:{display:"flex",alignItems:"center"}},n.createElement(l.A,{sx:{width:8,height:8,backgroundColor:i.palette.error.main,borderRadius:"50%",mr:1}}),n.createElement(A.A,{variant:"caption",color:"textSecondary"},"Before"),n.createElement(l.A,{sx:{width:8,height:8,backgroundColor:i.palette.success.main,borderRadius:"50%",ml:2,mr:1}}),n.createElement(A.A,{variant:"caption",color:"textSecondary"},"After"))),n.createElement(l.A,{sx:{display:"flex",columnGap:1}},n.createElement(l.A,{sx:{textDecoration:o===E.p.Desktop?"underline":"none","&:hover":{cursor:"pointer"},borderBottom:o===E.p.Desktop?"2px solid ".concat(i.palette.primary.main):"none",transition:"all 0.3s ease"},onClick:()=>r(E.p.Desktop)},n.createElement(w.W,{icon:"mynaui:desktop",sx:{width:"24px"},color:o===E.p.Desktop?i.palette.primary.main:"initial"})),n.createElement(l.A,{sx:{textDecoration:o===E.p.Mobile?"underline":"none","&:hover":{cursor:"pointer"},borderBottom:o===E.p.Mobile?"2px solid ".concat(i.palette.primary.main):"none",transition:"all 0.3s ease"},onClick:()=>r(E.p.Mobile)},n.createElement(w.W,{icon:"mynaui:mobile",sx:{width:"24px"},color:o===E.p.Mobile?i.palette.primary.main:"initial"}))))};var D=o(73015),k=o(22971),I=o(95020),M=o(72102);const O=function(e){let{strategy:t,onClose:o,domainName:r,domainID:i,urlID:a}=e;return n.createElement(D.A,{open:!0,sx:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},n.createElement(m.A,{sx:{p:4,minHeight:400,height:"75%",width:"65%",overflowY:"auto",scrollbarWidth:"none"}},n.createElement(l.A,{sx:{display:"flex",justifyContent:"space-between"}},n.createElement(A.A,{variant:"h6",sx:{mb:1}},t===E.p.Mobile?"Mobile":"Desktop"," Light House Score"),n.createElement(k.A,{onClick:o,sx:{"&:hover":{cursor:"pointer"}}})),n.createElement(A.A,{variant:"body2",sx:{mb:3}},"Score Checker is our newest feature, now available for all plans during its beta phase."),n.createElement(I.w,{id:"",url:r,domain_id:i,url_id:a,device:t===E.p.Mobile?M.I.ScoreDevice.Mobile:M.I.ScoreDevice.Desktop})))};var j=o(5370);const C=(0,o(34893).A)();var q=function(e){return e.RefreshData="refresh-data",e}(q||{}),z=o(78489),B=o(96809),N=o(69597);function T(e){const t=(0,z.I)({initialData:[new M.I.DomainInfo,0],queryKey:[e,"domainInfo"],queryFn:()=>async function(e){let{domainID:t}=e;const[o,r]=await(0,B.xz)({pathVars:{"{domain_id}":t}},(0,N.w9)(!1),(0,N.N4)());return[o,r]}({domainID:e})});return t}var F=o(79744);const H=(0,n.lazy)(()=>o.e(5996).then(o.bind(o,75996))),R=[E.o.HomePage,E.o.Best,E.o.Average],U=function(e){var t;let{domainID:o,domainName:r,urlID:i}=e;const a=(0,u.A)(),[c,s]=(0,n.useState)(E.o.HomePage),[A,w]=(0,n.useState)(E.p.Desktop),[D,k]=(0,n.useState)(!1),{data:I,isFetching:M}=T(o),z=(0,n.useMemo)(()=>{var e,t,o,r,n,i,a,l,c,s,u,d,m,p,g,h,v,f,b,y,x,A,w,P;const D={[E.p.Mobile]:{[E.o.HomePage]:{optimizedScore:0,originalScore:0},[E.o.Average]:{optimizedScore:0,originalScore:0},[E.o.Best]:{optimizedScore:0,originalScore:0}},[E.p.Desktop]:{[E.o.HomePage]:{optimizedScore:0,originalScore:0},[E.o.Average]:{optimizedScore:0,originalScore:0},[E.o.Best]:{optimizedScore:0,originalScore:0}}};if(!I)return D;const[k,M]=I,O=(0,S.c)(M);return O?((0,F.v)(O,M,"error"),D):k?{[E.p.Mobile]:{[E.o.HomePage]:{optimizedScore:null!==(e=null===(t=k.homePage)||void 0===t?void 0:t.optimizedMobile)&&void 0!==e?e:0,originalScore:null!==(o=null===(r=k.homePage)||void 0===r?void 0:r.originalMobile)&&void 0!==o?o:0},[E.o.Average]:{optimizedScore:null!==(n=null===(i=k.averageScore)||void 0===i?void 0:i.optimizedMobile)&&void 0!==n?n:0,originalScore:null!==(a=null===(l=k.averageScore)||void 0===l?void 0:l.originalMobile)&&void 0!==a?a:0},[E.o.Best]:{optimizedScore:null!==(c=null===(s=k.bestScore)||void 0===s?void 0:s.optimizedMobile)&&void 0!==c?c:0,originalScore:null!==(u=null===(d=k.bestScore)||void 0===d?void 0:d.originalMobile)&&void 0!==u?u:0}},[E.p.Desktop]:{[E.o.HomePage]:{optimizedScore:null!==(m=null===(p=k.homePage)||void 0===p?void 0:p.optimizedDesktop)&&void 0!==m?m:0,originalScore:null!==(g=null===(h=k.homePage)||void 0===h?void 0:h.originalDesktop)&&void 0!==g?g:0},[E.o.Average]:{optimizedScore:null!==(v=null===(f=k.averageScore)||void 0===f?void 0:f.optimizedDesktop)&&void 0!==v?v:0,originalScore:null!==(b=null===(y=k.averageScore)||void 0===y?void 0:y.originalDesktop)&&void 0!==b?b:0},[E.o.Best]:{optimizedScore:null!==(x=null===(A=k.bestScore)||void 0===A?void 0:A.optimizedDesktop)&&void 0!==x?x:0,originalScore:null!==(w=null===(P=k.bestScore)||void 0===P?void 0:P.originalDesktop)&&void 0!==w?w:0}}}:D},[I]),B=(0,n.useMemo)(()=>n.createElement(d.A,{variant:"rectangular",width:"100%",height:"100%",sx:{borderRadius:"12px"}}),[]),N=(0,n.useCallback)(e=>0===e||Number.isNaN(e)?0:Number.parseInt((0,j.kB)(e)),[]),U=(0,n.useMemo)(()=>z?A===E.p.Desktop?[N(100*z[E.p.Desktop][c].optimizedScore),N(100*z[E.p.Desktop][c].originalScore)]:A===E.p.Mobile?[N(100*z[E.p.Mobile][c].optimizedScore),N(100*z[E.p.Mobile][c].originalScore)]:void 0:[0,0],[A,c,z,N]);return n.createElement("div",{style:{height:"100%",position:"relative"},className:"rl-mfe-performance-summary-donut"},n.createElement(l.A,{sx:{zIndex:4,position:"absolute",bottom:-7,height:"100%",width:"100%",display:"flex",justifyContent:"center"}},n.createElement(m.A,{sx:{height:"100%",width:"97%",bgcolor:a.palette.primary.main,opacity:"15%"}})),n.createElement(l.A,{sx:{zIndex:4,position:"absolute",bottom:-14,height:"100%",width:"100%",display:"flex",justifyContent:"center"}},n.createElement(m.A,{sx:{height:"100%",width:"90%",bgcolor:a.palette.primary.main,opacity:"15%"}})),n.createElement(m.A,{sx:{position:"absolute",height:"100%",width:"100%",p:2,display:"flex",flexDirection:"column",justifyContent:"space-between",overflow:"visible",borderRadius:"12px",zIndex:5,boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.2)"}},D&&n.createElement(O,{domainID:o,domainName:r,onClose:()=>{k(!1),C.emit(q.RefreshData)},strategy:A,urlID:i}),n.createElement(P,{title:null!==(_=R[c],t=_===E.o.HomePage?"Home Page Score":_===E.o.Average?"Average Score":_===E.o.Best?"Best Score":void 0)&&void 0!==t?t:"",activeStrategy:A,onStrategyChange:e=>w(e)}),n.createElement(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"100%",py:2}},n.createElement(l.A,null,n.createElement(p.A,{disabled:0===c,onClick:()=>{c>0&&s(c-1)}},n.createElement(f.A,null))),M?B:n.createElement(n.Suspense,{fallback:B},n.createElement(H,{domainName:r,series:null!=U?U:[0,0],device:A})),n.createElement(l.A,null,n.createElement(p.A,{disabled:2===c,onClick:()=>{c<2&&s(c+1)}},n.createElement(b.A,null)))),n.createElement(l.A,{sx:{display:"flex",justifyContent:c===E.o.HomePage?"space-between":"end",alignItems:"center",alignSelf:"end",width:"100%",height:30}},c===E.o.HomePage&&n.createElement(g.A,{title:"Recheck the speed score for home page"},n.createElement(h.A,{variant:"outlined",endIcon:n.createElement(y.A,{sx:{bgcolor:a.palette.primary.main,p:"1px",color:"white",borderRadius:"50%",height:25,width:25}}),sx:{textTransform:"none",borderRadius:"20px",px:"8px",py:"3px",borderColor:a.palette.primary.main,color:a.palette.primary.main,ml:1,"&:hover":{backgroundColor:"rgba(25, 118, 210, 0.1)",borderColor:a.palette.primary.main},fontWeight:500},onClick:()=>{k(!0),(0,x.ck)("score_refreshed_donut")}},"Get Updated Score")),n.createElement(v.A,{backButton:null,nextButton:null,steps:3,sx:{maxWidth:400,bgcolor:"white","& .MuiMobileStepper-dot":{width:9,height:9},"& .MuiMobileStepper-dotActive":{width:9,height:9}},position:"static",variant:"dots",activeStep:c}))));var _};function _(){const[e,t]=(0,n.useState)(n.createElement(d.A,{variant:"rectangular",height:60,width:60}));return(0,n.useEffect)(()=>{o.e(6246).then(o.t.bind(o,36246,17)).then(e=>t(n.createElement("img",{src:e.default,height:60,alt:"Boost Icon"}))).catch(e=>console.error("Failed to load image",e))},[]),e}function K(){const[e,t]=(0,n.useState)(n.createElement(d.A,{variant:"rectangular",height:60,width:60}));return(0,n.useEffect)(()=>{o.e(9406).then(o.t.bind(o,89406,17)).then(e=>t(n.createElement("img",{src:e.default,height:60,alt:"Boost Icon"}))).catch(e=>console.error("Failed to load image",e))},[]),e}function L(){const[e,t]=(0,n.useState)(n.createElement(d.A,{variant:"rectangular",height:60,width:60}));return(0,n.useEffect)(()=>{o.e(3886).then(o.t.bind(o,43886,17)).then(e=>t(n.createElement("img",{src:e.default,height:60,alt:"Boost Icon"}))).catch(e=>console.error("Failed to load image",e))},[]),e}const W=(0,n.lazy)(()=>o.e(1360).then(o.bind(o,31360))),G={padding:2,width:"100%",height:120},Y=()=>n.createElement(d.A,{variant:"rounded",sx:G});function Z(e,t){return!e||Number.isNaN(e)?0:8*e/1048576/1.6*1e3+t}function V(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!e||0===e||Number.isNaN(e))return"0 KB";const o=t<0?0:t,r=Math.floor(Math.log(e)/Math.log(1e3));return parseFloat((e/1e3**r).toFixed(o))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]}const J=(e,t)=>0===e||Number.isNaN(e)?t?"Data Not Available":"-":e>=1e3?"".concat((e/1e3).toFixed(1)," ").concat(t?"seconds":"s"):"".concat(e.toFixed(1)," ").concat(t?"milliseconds":"ms");function Q(e){let{domainID:t}=e;const{data:o,isFetching:r}=T(t),i=(0,n.useMemo)(()=>{if(!o)return 0;const[e,t]=o,r=(0,S.c)(t);return r?((0,F.v)(r,t,"error"),0):e.canonicalUrlCount},[o]);return n.createElement(n.Suspense,{fallback:n.createElement(Y,null)},n.createElement(W,{layout:G,isFetching:r,title:"Unique Pages",icon:n.createElement(_,null),value:i.toString(),tooltip:"Unique pages discovered on the website"}))}function X(e){let{domainID:t}=e;const{data:o,isFetching:r}=T(t),[i,a]=(0,n.useMemo)(()=>{var e,t,r,n,i;if(!o)return[0,"0"];const[a,l]=o,c=(0,S.c)(l);if(c)return(0,F.v)(c,l,"error"),[0,"0"];const s=null!==(e=null==a?void 0:a.canonicalUrlCount)&&void 0!==e?e:0;if(0===s)return[0,"0"];const u=Z((null!==(t=null==a||null===(r=a.css)||void 0===r?void 0:r.cssSizeP1)&&void 0!==t?t:0)/s,100),d=Z((null!==(n=null==a||null===(i=a.css)||void 0===i?void 0:i.cssSizeAll)&&void 0!==n?n:0)/s,150);return[u,0!==d?((d-u)/d*100).toFixed(1):"0"]},[o]);return n.createElement(n.Suspense,{fallback:n.createElement(Y,null)},n.createElement(W,{layout:G,isFetching:r,title:"Average Time to Load",icon:n.createElement(K,null),value:J(i,!1),subtitle:{value:"".concat(a,"%"),substring:"faster than before"},tooltip:"Average page loading time after optimization - ".concat(J(i,!0))}))}function $(e){let{domainID:t}=e;const{data:o,isFetching:r}=T(t),[i,a]=(0,n.useMemo)(()=>{var e,t,r,n;if(!o)return[0,0];const[i,a]=o,l=(0,S.c)(a);if(l)return(0,F.v)(l,a,"error"),[0,0];const c=null!==(e=null==i||null===(t=i.css)||void 0===t?void 0:t.cssSizeP1)&&void 0!==e?e:0,s=null!==(r=null==i||null===(n=i.css)||void 0===n?void 0:n.cssSizeAll)&&void 0!==r?r:0;let u="";u=0!==i.canonicalUrlCount?V(c/(null==i?void 0:i.canonicalUrlCount),1):V(0,1);const d=s>0?(s-c)/s*100:0;let m="";return m=Number.isNaN(d)||d<0?"0":d.toFixed(1),[u,m]},[o]);return n.createElement(n.Suspense,{fallback:n.createElement(Y,null)},n.createElement(W,{layout:G,isFetching:r,title:"Optimized CSS/Page",icon:n.createElement(L,null),value:"".concat(i),subtitle:{value:"".concat(a,"%"),substring:"smaller than before"},tooltip:"Average size of optimized CSS per page"}))}function ee(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function te(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(o),!0).forEach(function(t){oe(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):ee(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function oe(e,t,o){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const re=new c.E({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});function ne(e){let{domID:t,domainID:o,domainName:l,urlID:c}=e;const u=n.createElement(s.Ht,{client:re},n.createElement(a.Z6,{defaultSettings:te(te({},a.L6),{},{primaryColor:"preset1",direction:"ltr",contrast:"hight"})},n.createElement(i.NP,{noSsr:!0,defaultMode:i.q_.defaultMode,modeStorageKey:i.q_.modeStorageKey},n.createElement(U,{domainID:o,domainName:l,urlID:c}))));if("local-testing-root-donut"===t){const e=document.getElementById(t);if(!e)return void console.warn("no dom element found");(0,r.createRoot)(e).render(u)}return u}function ie(e){let{domID:t,domainID:o}=e;const c=()=>n.createElement(s.Ht,{client:re},n.createElement(a.Z6,{defaultSettings:te(te({},a.L6),{},{primaryColor:"preset1",direction:"ltr",contrast:"hight"})},n.createElement(i.NP,{noSsr:!0,defaultMode:i.q_.defaultMode,modeStorageKey:i.q_.modeStorageKey},n.createElement(l.A,{sx:{display:"flex",columnGap:3,px:3},className:"rl-mfe-performance-cards"},n.createElement(Q,{domainID:o}),n.createElement(X,{domainID:o}),n.createElement($,{domainID:o})))));if("local-testing-root-performance"!==t)return c();{const e=document.getElementById(t);if(!e)return void console.warn("No dom element found!");(0,r.createRoot)(e).render(c())}}},58947(e,t,o){o.d(t,{o:()=>r,p:()=>n});let r=function(e){return e[e.HomePage=0]="HomePage",e[e.Best=1]="Best",e[e.Average=2]="Average",e}({}),n=function(e){return e[e.Mobile=0]="Mobile",e[e.Desktop=1]="Desktop",e}({})},95949(e,t,o){function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function n(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach(function(t){i(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function i(e,t,o){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){return n(n({},{400:"Please ensure all inputs are correct.",401:"Session timed out. Please log in and try again.",402:"Upgrade is required to proceed.",403:"You do not have permission to access this resource.",404:"The requested resource could not be found.",405:"The method used is not allowed for this request.",406:"The requested format is not acceptable. Please try a different one.",407:"Authentication is required through a proxy server.",408:"The request timed out. Please try again later.",409:"There is a conflict with the current state of the resource.",410:"The requested resource is no longer available.",411:"A specific content length is required for this request.",412:"The request did not meet the required conditions.",413:"The request is too large to be processed.",414:"The URL is too long to be processed.",415:"The server cannot process the media type in the request.",416:"The requested range is not valid.",417:"Unexpected error occurred.",419:"Something unexpected happened. Please try again.",422:"The request could not be processed due to invalid data.",423:"The resource is locked and cannot be accessed.",424:"A dependency for this request failed to execute.",426:"An upgrade is required to complete the request.",428:"A required condition was not met. Please check and try again.",429:"Too many requests. Please wait and try again later.",431:"The request headers are too large. Please reduce them and try again.",451:"This resource is unavailable due to legal restrictions.",500:"An error occurred on the server. Please try again later.",502:"There was an error from the server acting as a gateway.",503:"The service is temporarily unavailable. Please try again later.",504:"The gateway server timed out. Please try again later.",505:"The HTTP version used is not supported by the server.",506:"There is a server configuration issue. Please try again later.",507:"The server does not have enough storage to process this request.",508:"A server loop was detected. Please try again later.",510:"Additional extensions are required to complete this request.",511:"Network authentication is required. Please log in and try again."}),(null==t?void 0:t.customErrors)||{})[e]||null}o.d(t,{c:()=>a})}}]);