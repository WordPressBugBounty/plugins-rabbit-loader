"use strict";(this.webpackChunkRLAdmin=this.webpackChunkRLAdmin||[]).push([[672],{20550:(e,a,t)=>{t.d(a,{T:()=>n});const n=e=>{let a=null;const t=new Proxy({},{get(e,t){if(a){const e=a[t];return"function"==typeof e?function(){return e(...arguments)}:e}throw new Error(`Module not loaded yet. Accessing property '${String(t)}' is not allowed.`)}});return(async()=>{const t=await e();a=t.default})(),t}},67534:(e,a,t)=>{t.d(a,{A:()=>p});var n=t(14041),r=t.t(n,2),i=t(64714),s=t(50065),o=t(374);function l(e,a,t,r,s){const[o,l]=n.useState((()=>s&&t?t(e).matches:r?r(e).matches:a));return(0,i.A)((()=>{if(!t)return;const a=t(e),n=()=>{l(a.matches)};return n(),a.addEventListener("change",n),()=>{a.removeEventListener("change",n)}}),[e,t]),o}const c={...r}.useSyncExternalStore;function u(e,a,t,r,i){const s=n.useCallback((()=>a),[a]),o=n.useMemo((()=>{if(i&&t)return()=>t(e).matches;if(null!==r){const{matches:a}=r(e);return()=>a}return s}),[s,e,r,i,t]),[l,u]=n.useMemo((()=>{if(null===t)return[s,()=>()=>{}];const a=t(e);return[()=>a.matches,e=>(a.addEventListener("change",e),()=>{a.removeEventListener("change",e)})]}),[s,t,e]);return c(u,l,o)}function d(e={}){const{themeId:a}=e;return function(e,t={}){let n=(0,o.A)();n&&a&&(n=n[a]||n);const r="undefined"!=typeof window&&void 0!==window.matchMedia,{defaultMatches:i=!1,matchMedia:d=(r?window.matchMedia:null),ssrMatchMedia:p=null,noSsr:h=!1}=(0,s.A)({name:"MuiUseMediaQuery",props:t,theme:n});let m="function"==typeof e?e(n):e;return m=m.replace(/^@media( ?)/m,""),(void 0!==c?u:l)(m,i,d,p,h)}}d();const p=d({themeId:t(58001).A})},93672:(e,a,t)=>{t.r(a),t.d(a,{default:()=>O});var n=t(6530),r=t(67534),i=t(12302),s=t(22771),o=t(14041),l=t(5319),c=t(6888);const u=3e5,d=3,p=[500,502,503],h=!1;class m extends Error{constructor(e){super(e),this.name="MissingPathVarError"}}const y=new m("path variable is missing");function g(e,a){let t=!1,n=e;for(const[e,t]of Object.entries(a))n=n.replace(e,t);return t=n.includes("{"),{newPath:n,missingVar:t}}var f=t(95949);let w=function(e){return e[e.Austria=1]="Austria",e[e.Belgium=2]="Belgium",e[e.Brazil=3]="Brazil",e[e.Bulgaria=4]="Bulgaria",e[e.Croatia=5]="Croatia",e[e.Cyprus=6]="Cyprus",e[e.CzechRepublic=7]="CzechRepublic",e[e.Denmark=8]="Denmark",e[e.Estonia=9]="Estonia",e[e.Finland=10]="Finland",e[e.France=11]="France",e[e.Germany=12]="Germany",e[e.Greece=13]="Greece",e[e.Hungary=14]="Hungary",e[e.Iceland=15]="Iceland",e[e.Ireland=16]="Ireland",e[e.Italy=17]="Italy",e[e.India=18]="India",e[e.Latvia=19]="Latvia",e[e.Liechtenstein=20]="Liechtenstein",e[e.Lithuania=21]="Lithuania",e[e.Luxembourg=22]="Luxembourg",e[e.Malta=23]="Malta",e[e.Netherlands=24]="Netherlands",e[e.Norway=25]="Norway",e[e.Poland=26]="Poland",e[e.Portugal=27]="Portugal",e[e.Romania=28]="Romania",e[e.Slovakia=29]="Slovakia",e[e.Slovenia=30]="Slovenia",e[e.Spain=31]="Spain",e[e.Sweden=32]="Sweden",e[e.Switzerland=33]="Switzerland",e[e.UK=34]="UK",e[e.USA=35]="USA",e[e.Others=36]="Others",e[e.Error=37]="Error",e}({});const S={Vienna:w.Austria,Brussels:w.Belgium,Sofia:w.Bulgaria,Noronha:w.Brazil,Belem:w.Brazil,Fortaleza:w.Brazil,Recife:w.Brazil,Araguaina:w.Brazil,Maceio:w.Brazil,Bahia:w.Brazil,Sao_Paulo:w.Brazil,Campo_Grande:w.Brazil,Cuiaba:w.Brazil,Santarem:w.Brazil,Porto_Velho:w.Brazil,Boa_Vista:w.Brazil,Manaus:w.Brazil,Eirunepe:w.Brazil,Rio_Branco:w.Brazil,Zurich:w.Switzerland,Nicosia:w.Cyprus,Famagusta:w.Cyprus,Prague:w.CzechRepublic,Berlin:w.Germany,Copenhagen:w.Denmark,Tallinn:w.Estonia,Madrid:w.Spain,Ceuta:w.Spain,Canary:w.Spain,Helsinki:w.Finland,Paris:w.France,London:w.UK,Athens:w.Greece,Budapest:w.Hungary,Dublin:w.Ireland,Kolkata:w.India,Calcutta:w.India,Reykjavik:w.Iceland,Rome:w.Italy,Vilnius:w.Lithuania,Luxembourg:w.Luxembourg,Riga:w.Latvia,Malta:w.Malta,Amsterdam:w.Netherlands,Oslo:w.Norway,Warsaw:w.Poland,Lisbon:w.Portugal,Madeira:w.Portugal,Azores:w.Portugal,Bucharest:w.Romania,Stockholm:w.Sweden,New_York:w.USA,Detroit:w.USA,Louisville:w.USA,Monticello:w.USA,Indianapolis:w.USA,Vincennes:w.USA,Winamac:w.USA,Marengo:w.USA,Petersburg:w.USA,Vevay:w.USA,Chicago:w.USA,Tell_City:w.USA,Knox:w.USA,Menominee:w.USA,Center:w.USA,New_Salem:w.USA,Beulah:w.USA,Denver:w.USA,Boise:w.USA,Phoenix:w.USA,Los_Angeles:w.USA,Anchorage:w.USA,Juneau:w.USA,Sitka:w.USA,Metlakatla:w.USA,Yakutat:w.USA,Nome:w.USA,Adak:w.USA,Honolulu:w.USA,Busingen:w.Germany,Zagreb:w.Croatia,Vaduz:w.Liechtenstein,Ljubljana:w.Slovenia,Bratislava:w.Slovakia};function b(){if(!Intl)return w.Error;const e=Intl.DateTimeFormat().resolvedOptions().timeZone.split("/"),a=e[e.length-1];return S[a]??w.Others}var P=t(82224),A=t(96809);var R=t(26060),v=t(20550);const E=(0,t(34893).A)();var I=function(e){return e.OpenUpgradeModal="open-upgrade-modal",e.CloseUpgradeModal="close-upgrade-modal",e.PooledPlan="pooled-plan",e.ClearDomainAddData="clear-domain-add-data",e}(I||{});const U=e=>{let a;const t=new Set,n=(e,n)=>{const r="function"==typeof e?e(a):e;if(!Object.is(r,a)){const e=a;a=(null!=n?n:"object"!=typeof r||null===r)?r:Object.assign({},a,r),t.forEach((t=>t(a,e)))}},r=()=>a,i={setState:n,getState:r,getInitialState:()=>s,subscribe:e=>(t.add(e),()=>t.delete(e))},s=a=e(n,r,i);return i},D=e=>e,T=e=>{const a=(e=>e?U(e):U)(e),t=e=>function(e,a=D){const t=o.useSyncExternalStore(e.subscribe,(()=>a(e.getState())),(()=>a(e.getInitialState())));return o.useDebugValue(t),t}(a,e);return Object.assign(t,a),t},B={paymentGateway:c.e.GatewayName.UNDEFINED_GATEWAY,subscriptionID:"",frequency:c.e.Frequency.UNDEFINED_FREQ,planID:"",availablePlans:[],tier:c.e.Tier.UNDEFINED_TIER},C=(q=e=>({...B,setPaymentGateway:a=>e((e=>({...e,paymentGateway:a}))),setPlanID:a=>e((e=>({...e,planID:a}))),setAvailablePlans:a=>e((e=>({...e,availablePlans:a}))),setFrequency:a=>e((e=>({...e,frequency:a}))),setPlanDetails:(a,t,n,r,i)=>e((()=>({planID:a,subscriptionID:t,tier:n,paymentGateway:r,frequency:i})))}))?T(q):T;var q;const N=(0,v.T)((()=>t.e(582).then(t.bind(t,91582)).then((e=>({default:e.toast}))))),z=(0,o.lazy)((()=>t.e(603).then(t.bind(t,30139)))),L=(0,o.lazy)((()=>t.e(598).then(t.bind(t,88598)))),k=(0,o.lazy)((()=>t.e(453).then(t.bind(t,29453)))),G=(0,o.lazy)((()=>t.e(482).then(t.bind(t,28482)))),M=(0,o.lazy)((()=>t.e(69).then(t.bind(t,33069)))),x=(0,o.lazy)((()=>t.e(818).then(t.bind(t,86818)))),F=(0,o.lazy)((()=>t.e(940).then(t.bind(t,83940)))),j=["64928b4b535c894e0f5e1894","64928b4b535c894e0f5e1895","64928b4b535c894e0f5e1896"],V=["6492863c535c894e0f5e1891","6492863c535c894e0f5e1892","6492863c535c894e0f5e1893"];function _(e){return e===w.India?j:V}const O=function(e){let{flowType:a,domainID:t,onPlanSelect:m}=e;const S=(0,n.A)(),v=(0,r.A)(S.breakpoints.down("md")),[U,D]=(0,o.useState)(!1),[T,B]=(0,o.useState)([]),[q,O]=(0,o.useState)(!0),[H,Y]=(0,o.useState)(!1),{planID:K,frequency:W,setPlanDetails:J,setAvailablePlans:Q}=C(),[Z,$]=(0,o.useTransition)(),X=(0,o.useCallback)((async e=>{let{planIDs:a}=e;O(!0);const[t,n]=await async function(e){let{planIDs:a}=e;const t=new c.e.GetRLPricingPlansRequest({planId:a}),[n,r]=await function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;const{timeout:r=u,retryCount:i=d,retryableCodes:s=p,contentTypeJson:o=h}=a;let{newPath:l,missingVar:m}=g(n+"/billing/rl/plan_details",a.pathVars||{});if(m)return Promise.reject(y);const f=e.serializeBinary(),w={method:"GET",headers:new Headers({Authorization:`Bearer ${t}`,"Content-Type":o?"application/json":"application/x-protobuf",Accept:o?"application/json":"application/x-protobuf",...Object.fromEntries(a.headers||new Headers)}),...a.cache?{cache:a.cache}:{}};return l=l+"?"+new URLSearchParams({get_params:btoa(String.fromCharCode.apply(null,Array.from(f)))}),async function e(a){try{const t=await fetch(l,w);if(!t.ok&&s.includes(t.status)&&0!==a)return e(a-1);if(o)try{return[await t.json(),t.status]}catch(e){return console.log("error in reading response body: ",e),[new c.e.GetRLPricingPlansResponse,t.status]}try{const e=await t.arrayBuffer(),a=new Uint8Array(e);return[c.e.GetRLPricingPlansResponse.deserialize(a),t.status]}catch(e){return console.error("error in reading response body",e),[new c.e.GetRLPricingPlansResponse,t.status]}}catch(e){return console.log("error getting data: ",e),[new c.e.GetRLPricingPlansResponse,0]}}(i)}(t,{},(0,l.w9)(!1)??"",(0,l.N4)());return[n,r]}({planIDs:a}),r=(0,f.c)(n);if(!r)return Q(t.pricingPlansRL),void $((()=>{B(t.pricingPlansRL),O(!1)}));N.error(r),O(!1)}),[Q]),ee=(0,o.useCallback)((async()=>{if(!t)return"";const[e,a]=await async function(e){let{domainID:a}=e,t="",n="",r=c.e.Frequency.UNDEFINED_FREQ,i=c.e.GatewayName.UNDEFINED_GATEWAY,s=c.e.Tier.UNDEFINED_TIER;const[o,u]=await(0,A.xz)({pathVars:{"{domain_id}":a}},(0,l.w9)(!1)??"",(0,l.N4)());return o.plan&&o.plan.rlPlanID&&(t=o.plan.rlPlanID,n=o.plan.rlSubID,i=o.plan.gatewayName,s=o.plan.tier,r=o.plan.frequency),[{planID:t,frequency:r,gatewayName:i,tier:s,subscriptionID:n},u]}({domainID:t});if(404===a)return"";const n=(0,f.c)(a);return n?(N.error(n),""):(J(e.planID,e.subscriptionID,e.tier,e.gatewayName,e.frequency),e.planID)}),[t,J]),ae=(0,o.useCallback)((async()=>{const[e,a]=await async function(){const e=new c.e.GetSubscriptionsReq({status:[c.e.SubStatus.Active],brand:P.Y.Brand.rabbitloader}),[a,t]=await function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;const{timeout:r=u,retryCount:i=d,retryableCodes:s=p,contentTypeJson:o=h}=a;let{newPath:l,missingVar:m}=g(n+"/billing/subscription",a.pathVars||{});if(m)return Promise.reject(y);const f=e.serializeBinary(),w={method:"GET",headers:new Headers({Authorization:`Bearer ${t}`,"Content-Type":o?"application/json":"application/x-protobuf",Accept:o?"application/json":"application/x-protobuf",...Object.fromEntries(a.headers||new Headers)}),...a.cache?{cache:a.cache}:{}};return l=l+"?"+new URLSearchParams({get_params:btoa(String.fromCharCode.apply(null,Array.from(f)))}),async function e(a){try{const t=await fetch(l,w);if(!t.ok&&s.includes(t.status)&&0!==a)return e(a-1);if(o)try{return[await t.json(),t.status]}catch(e){return console.log("error in reading response body: ",e),[new c.e.GetSubscriptionsRes,t.status]}try{const e=await t.arrayBuffer(),a=new Uint8Array(e);return[c.e.GetSubscriptionsRes.deserialize(a),t.status]}catch(e){return console.error("error in reading response body",e),[new c.e.GetSubscriptionsRes,t.status]}}catch(e){return console.log("error getting data: ",e),[new c.e.GetSubscriptionsRes,0]}}(i)}(e,{},(0,l.w9)(!1)??"",(0,l.N4)());return[a,t]}();if(!(0,f.c)(a))for(const a of e.subscriptions)if(a.pooled){E.emit(I.PooledPlan,a.pricingPlanRL.planTitle);break}}),[]);return(0,o.useEffect)((()=>{!async function(){let e="";if((0,l.w9)(!1)&&a!==R.d.New&&(e=await ee()),a===R.d.New){const e=_(b());X({planIDs:e}),ae()}else if(j.includes(e)){const e=_(w.India);X({planIDs:e})}else if(V.includes(e)){const e=_(w.USA);X({planIDs:e})}else{const e=_(b());X({planIDs:e})}}()}),[ee,X,ae,a]),React.createElement(i.A,{sx:{width:"100%",bgcolor:S.palette.primary.lighter,px:v||a===R.d.New?4:12,py:a===R.d.New?2:5}},React.createElement(o.Suspense,null,H&&React.createElement(F,{open:H,onClose:()=>Y(!1)})),React.createElement(o.Suspense,null,React.createElement(z,{isMonthly:U,setIsMonthly:D,flowType:a})),React.createElement(s.A,{sx:{display:"flex",flexDirection:v||a===R.d.New?"column":"row",justifyContent:"space-evenly",rowGap:a===R.d.New?2:4,columnGap:4,mt:a===R.d.New?2:4,flexGrow:1}},q&&(a===R.d.New?React.createElement(o.Suspense,null,React.createElement(x,null),React.createElement(x,null),React.createElement(x,null)):React.createElement(o.Suspense,null,React.createElement(G,null),React.createElement(G,null),React.createElement(G,null))),React.createElement(o.Suspense,null,T.map(((e,t)=>a===R.d.New?React.createElement(M,{key:e.planId,title:e.planTitle,monthlyPrice:e.monthlyPrice,yearlyPrice:e.yearlyPrice,showMonthlyPrice:U,isPopular:t%2==1,limits:{pageViews:e.limitPageViews,pageRules:e.limitPageRules,images:e.limitImages,canonicalUrls:e.limitCanonicalURLs,delegates:e.limitDelegates},onPlanSelect:()=>m(e,U?c.e.Frequency.monthly:c.e.Frequency.yearly)}):React.createElement(k,{key:e.planId,title:e.planTitle,monthlyPrice:e.monthlyPrice,yearlyPrice:e.yearlyPrice,showMonthlyPrice:U,isPopular:t%2==1,isExistingPlan:e.planId===K,existingFrequency:W,limits:{pageViews:e.limitPageViews,pageRules:e.limitPageRules,images:e.limitImages,canonicalUrls:e.limitCanonicalURLs,delegates:e.limitDelegates},onPlanSelect:()=>m(e,U?c.e.Frequency.monthly:c.e.Frequency.yearly)}))))),a!==R.d.New&&React.createElement(s.A,{sx:{mt:3}},React.createElement(o.Suspense,null,React.createElement(L,{flowType:a,onContactUsClick:()=>Y(!0)}))))}},95949:(e,a,t)=>{function n(e,a){return{400:"Please ensure all inputs are correct.",401:"Session timed out. Please log in and try again.",402:"Upgrade is required to proceed.",403:"You do not have permission to access this resource.",404:"The requested resource could not be found.",405:"The method used is not allowed for this request.",406:"The requested format is not acceptable. Please try a different one.",407:"Authentication is required through a proxy server.",408:"The request timed out. Please try again later.",409:"There is a conflict with the current state of the resource.",410:"The requested resource is no longer available.",411:"A specific content length is required for this request.",412:"The request did not meet the required conditions.",413:"The request is too large to be processed.",414:"The URL is too long to be processed.",415:"The server cannot process the media type in the request.",416:"The requested range is not valid.",417:"Unexpected error occurred.",419:"Something unexpected happened. Please try again.",422:"The request could not be processed due to invalid data.",423:"The resource is locked and cannot be accessed.",424:"A dependency for this request failed to execute.",426:"An upgrade is required to complete the request.",428:"A required condition was not met. Please check and try again.",429:"Too many requests. Please wait and try again later.",431:"The request headers are too large. Please reduce them and try again.",451:"This resource is unavailable due to legal restrictions.",500:"An error occurred on the server. Please try again later.",502:"There was an error from the server acting as a gateway.",503:"The service is temporarily unavailable. Please try again later.",504:"The gateway server timed out. Please try again later.",505:"The HTTP version used is not supported by the server.",506:"There is a server configuration issue. Please try again later.",507:"The server does not have enough storage to process this request.",508:"A server loop was detected. Please try again later.",510:"Additional extensions are required to complete this request.",511:"Network authentication is required. Please log in and try again.",...a?.customErrors||{}}[e]||null}t.d(a,{c:()=>n})}}]);