"use strict";(this.webpackChunkRLAdmin=this.webpackChunkRLAdmin||[]).push([[605],{11652:(e,t,a)=>{a.d(t,{A:()=>c});var r=a(14041),o=a(25865),n=a(25072),i=a(56047),l=a(59709);const s=(0,n.Ay)(o.A)((e=>{let{theme:t}=e;return{"& .apexcharts-canvas":{"& .apexcharts-tooltip":{...(0,l.Vz)({color:t.palette.background.default}),color:t.palette.text.primary,boxShadow:t.customShadows.dropdown,borderRadius:1.25*t.shape.borderRadius,"&.apexcharts-theme-light":{borderColor:"transparent",...(0,l.Vz)({color:t.palette.background.default})}},"& .apexcharts-xaxistooltip":{...(0,l.Vz)({color:t.palette.background.default}),borderColor:"transparent",color:t.palette.text.primary,boxShadow:t.customShadows.dropdown,borderRadius:1.25*t.shape.borderRadius,"&:before":{borderBottomColor:(0,i.X4)(t.palette.grey[500],.24)},"&:after":{borderBottomColor:(0,i.X4)(t.palette.background.default,.8)}},"& .apexcharts-tooltip-title":{textAlign:"center",fontWeight:t.typography.fontWeightBold,backgroundColor:(0,i.X4)(t.palette.grey[500],.08),color:t.palette.text["light"===t.palette.mode?"secondary":"primary"]},"& .apexcharts-legend":{padding:0},"& .apexcharts-legend-series":{display:"inline-flex !important",alignItems:"center"},"& .apexcharts-legend-marker":{marginRight:8},"& .apexcharts-legend-text":{lineHeight:"18px",textTransform:"capitalize"}}}})),c=(0,r.memo)(s)},24605:(e,t,a)=>{a.r(t),a.d(t,{TrendPageViews:()=>k});var r=a(14041),o=a(25873),n=a(15156),i=a(83818),l=a(68355),s=a(12302),c=a(65990),d=a(22771),p=a(27502),h=a(6530),u=a(84088),m=a(17515),g=a(37296),y=a(5319);var f=a(22854);const x=function(){return r.createElement("div",{style:{width:"100%",height:"250px",position:"relative"}},r.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}},r.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",padding:"0 20px",boxSizing:"border-box"}},r.createElement("div",{style:{width:"20px"}},r.createElement(f.A,{variant:"text",height:20})),r.createElement("div",{style:{flexGrow:1,marginLeft:"20px"}},r.createElement("div",{style:{width:"100%",height:"200px",display:"flex",flexDirection:"column",justifyContent:"space-between"}},[...Array(5).keys()].map((e=>r.createElement("div",{key:e,style:{width:"100%",height:"4px",backgroundColor:"rgba(0,0,0,0.1)",borderRadius:"2px"}},r.createElement(f.A,{variant:"text",width:0,height:0})))))),r.createElement("div",{style:{width:"20px",marginLeft:"20px"}},r.createElement(f.A,{variant:"text",height:20})))),r.createElement("div",{style:{position:"absolute",bottom:"0",left:"20px"}},[...Array(5).keys()].map((e=>r.createElement("div",{key:e,style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"rgba(0,0,0,0.1)",marginBottom:"50px"}},r.createElement(f.A,{variant:"text",width:0,height:0}))))))};var b=function(e){return e[e.Last7Days=0]="Last7Days",e[e.Last30Days=1]="Last30Days",e[e.Last90Days=2]="Last90Days",e}(b||{});const w={[b.Last7Days]:"Last 7 Days",[b.Last30Days]:"Last 30 Days",[b.Last90Days]:"Last 90 Days"},v=function(e){let{domainID:t}=e;const a=(0,h.A)(),[o,n]=(0,r.useState)([]),[i,f]=(0,r.useState)([]),[v,A]=(0,r.useState)([]),[k,D]=(0,r.useState)(null),[E,C]=(0,r.useState)(!1),[R,S]=(0,r.useState)(b.Last30Days),L=(0,r.useCallback)((e=>e.toISOString().split("T")[0]),[]),I=(0,r.useMemo)((()=>L(new Date)),[L]),z=(0,r.useMemo)((()=>{const e=new Date;return R===b.Last7Days?e.setDate(e.getDate()-7):R===b.Last30Days?e.setDate(e.getDate()-30):R===b.Last90Days&&e.setDate(e.getDate()-90),L(e)}),[R,L]),W=(0,l.u)({colors:[a.palette.primary.light],xaxis:{categories:i,labels:{rotate:0}},legend:{show:!1},yaxis:{labels:{formatter:(e,t)=>$(e)}},tooltip:{x:{formatter:(e,t)=>v[t.dataPointIndex],show:!0},y:{formatter:(e,t)=>$(t.series[0][t.dataPointIndex])}}});function B(e){const[t,a,r]=null!==e?e.split("-"):[0,"Jan","0"],o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(a,10)-1];return`${parseInt(r,10)} ${o}`}function $(e){return Intl.NumberFormat("en",{notation:"compact"}).format(e)}return(0,r.useEffect)((()=>{!async function(){C(!0);const{res:e,error:a}=await async function(e){let{domainID:t,start_date:a,end_date:r}=e;try{const e=await fetch(`${(0,y.N4)()}/domain/pageview/${t}?start_date=${a}&end_date=${r}`,{headers:{Authorization:`Bearer ${(0,y.w9)(!1)}`}}),o=await e.json(),n=o.map((e=>e.pageview??0)),i=o.map((e=>function(e){const t=new Date(e);return`${t.toLocaleString("default",{month:"long"})} ${t.getDate()}, ${t.getFullYear()}`}(e.date)));let l=[];if(i.length>5){const e=i.length,t=Math.floor(e/5),a=[0,t,2*t,3*t,4*t,e-1];for(let e=0;e<a.length-1;e++){l.push(i[a[e]]);const t=a[e],r=a[e+1];for(let e=t+1;e<r;e++)l.push("")}l.push(i[e-1])}else l=i;return{res:{data:n,originalCategories:i,filteredCategories:l},error:null}}catch(e){return console.log("Error: ",e),{res:{data:null,originalCategories:null,filteredCategories:null},error:e}}}({domainID:t,start_date:z,end_date:I});if(C(!1),a)return n([]),void D("Some thing has gone wrong.");D(null),f(e.filteredCategories),A(e.originalCategories),n(e.data)}()}),[t,I,z]),React.createElement(d.A,{sx:{overflow:"visible"},className:"rl-mfe-trend-pageviews"},React.createElement(s.A,{sx:{p:2,height:"370px"}},React.createElement(d.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement(d.A,null,React.createElement(c.A,{variant:"h5",color:"#0F172A",sx:{mb:1}},$(o.reduce(((e,t)=>e+t),0))),React.createElement(c.A,{fontWeight:500,fontSize:15,color:"#64748B",sx:{mb:2}},"Page Views ",B(z)," - ",B(I))),React.createElement(u.A,null,React.createElement(m.A,{value:R,onChange:e=>{"string"==typeof e.target.value?S(parseInt(e.target.value)):S(e.target.value)},size:"small"},Object.entries(w).map((e=>{let[t,a]=e;return React.createElement(g.A,{key:t,value:t},a)}))))),React.createElement(p.A,{sx:{mb:2}}),E?React.createElement(x,null):0!==o.length?React.createElement(l.A,{type:"line",series:[{name:"Page View",data:o}],options:W,width:"100%",height:"250px"}):k?React.createElement(d.A,{sx:{display:"flex",height:"250px",justifyContent:"center",alignItems:"center",textAlign:"center"}},React.createElement(c.A,{color:"#64748B"},k)):React.createElement(d.A,{sx:{display:"flex",height:"250px",justifyContent:"center",alignItems:"center",textAlign:"center"}},React.createElement(c.A,{color:"#64748B"},"Not enough data to show here. If you have recently signed up. It may take a while to prepare these report"))))},A=function(e){let{domainID:t}=e;return React.createElement(i.Z6,{defaultSettings:{themeMode:"light",themeDirection:"ltr",themeContrast:"default",themeLayout:"vertical",themeColorPresets:"blue",themeStretch:!1}},React.createElement(n.A,null,React.createElement(v,{domainID:t})))};function k(e){let{id:t,domainID:a}=e;if("local-testing-root"!==t)return r.createElement(A,{domainID:a});{const e=document.getElementById(t);if(!e)return void console.warn("No element found with id: ",t);o.createRoot(e).render(r.createElement(r.StrictMode,null,r.createElement(A,{domainID:a})))}}},68355:(e,t,a)=>{a.d(t,{A:()=>r.A,u:()=>c});var r=a(11652),o=a(82451),n=a.n(o),i=a(62987),l=a(56047),s=a(36951);function c(e){const t=(0,i.A)(),a=function(e,t){const a=(0,i.A)(),r=(0,s.A)(a.breakpoints.up(t));(0,s.A)(a.breakpoints.down(t)),(0,s.A)(a.breakpoints.between(t,void 0)),(0,s.A)(a.breakpoints.only(t));return r}(0,"sm"),r={show:!0,label:"Total",color:t.palette.text.secondary,fontSize:t.typography.subtitle2.fontSize,fontWeight:t.typography.subtitle2.fontWeight,lineHeight:t.typography.subtitle2.lineHeight},o={offsetY:8,color:t.palette.text.primary,fontSize:t.typography.h3.fontSize,fontWeight:t.typography.h3.fontWeight,lineHeight:t.typography.h3.lineHeight},c={colors:[t.palette.primary.main,t.palette.warning.main,t.palette.info.main,t.palette.error.main,t.palette.success.main,t.palette.warning.dark,t.palette.success.darker,t.palette.info.dark,t.palette.info.darker],chart:{toolbar:{show:!1},zoom:{enabled:!1},foreColor:t.palette.text.disabled,fontFamily:t.typography.fontFamily},states:{hover:{filter:{type:"lighten",value:.04}},active:{filter:{type:"darken",value:.88}}},fill:{opacity:1,gradient:{type:"vertical",shadeIntensity:0,opacityFrom:.4,opacityTo:0,stops:[0,100]}},dataLabels:{enabled:!1},stroke:{width:3,curve:"smooth",lineCap:"round"},grid:{strokeDashArray:3,borderColor:t.palette.divider,xaxis:{lines:{show:!1}}},xaxis:{axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{},markers:{size:0,strokeColors:t.palette.background.paper},tooltip:{theme:!1,x:{show:!0}},legend:{show:!0,fontSize:13,position:"top",horizontalAlign:"right",markers:{radius:12},fontWeight:500,itemMargin:{horizontal:8},labels:{colors:t.palette.text.primary}},plotOptions:{bar:{borderRadius:a?3:1,columnWidth:"28%",borderRadiusApplication:"end",borderRadiusWhenStacked:"last"},pie:{donut:{labels:{show:!0,value:o,total:r}}},radialBar:{track:{strokeWidth:"100%",background:(0,l.X4)(t.palette.grey[500],.16)},dataLabels:{value:o,total:r}},radar:{polygons:{fill:{colors:["transparent"]},strokeColors:t.palette.divider,connectorColors:t.palette.divider}},polarArea:{rings:{strokeColor:t.palette.divider},spokes:{connectorColors:t.palette.divider}}},responsive:[{breakpoint:t.breakpoints.values.sm,options:{plotOptions:{bar:{columnWidth:"40%"}}}},{breakpoint:t.breakpoints.values.md,options:{plotOptions:{bar:{columnWidth:"32%"}}}}]};return n()(c,e)}}}]);