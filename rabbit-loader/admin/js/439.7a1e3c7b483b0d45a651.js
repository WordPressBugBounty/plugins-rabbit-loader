"use strict";(this.webpackChunkRLAdmin=this.webpackChunkRLAdmin||[]).push([[439],{10439:(e,t,o)=>{o.r(t),o.d(t,{PerformanceSummary:()=>ae,RenderPerformanceCards:()=>re});var a=o(25873),r=o(68430),n=o(63600),i=o(94874),c=o(22771),l=o(74702),s=o(93402),d=o(6530),u=o(22854),m=o(12302),p=o(78722),h=o(47086),g=o(89301),f=o(52711),b=o(72152),y=o(13590),R=o(47719),S=o(14041),v=o(95949),E=o(58947),x=o(28804),A=o(65990),w=o(98412);const D=function(e){let{title:t,activeStrategy:o,onStrategyChange:a}=e;const r=(0,d.A)();return React.createElement(c.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement(c.A,null,React.createElement(A.A,{variant:"h6",textAlign:"start",color:"textPrimary"},t),React.createElement(c.A,{sx:{display:"flex",alignItems:"center"}},React.createElement(c.A,{sx:{width:8,height:8,backgroundColor:r.palette.error.main,borderRadius:"50%",mr:1}}),React.createElement(A.A,{variant:"caption",color:"textSecondary"},"Before"),React.createElement(c.A,{sx:{width:8,height:8,backgroundColor:r.palette.success.main,borderRadius:"50%",ml:2,mr:1}}),React.createElement(A.A,{variant:"caption",color:"textSecondary"},"After"))),React.createElement(c.A,{sx:{display:"flex",columnGap:1}},React.createElement(c.A,{sx:{textDecoration:o===E.p.Mobile?"underline":"none","&:hover":{cursor:"pointer"},borderBottom:o===E.p.Mobile?`2px solid ${r.palette.primary.light}`:"none",transition:"all 0.3s ease"},onClick:()=>a(E.p.Mobile)},React.createElement(w.A,{icon:"mynaui:mobile",sx:{width:"24px"},color:o===E.p.Mobile?r.palette.primary.light:"initial"})),React.createElement(c.A,{sx:{textDecoration:o===E.p.Desktop?"underline":"none","&:hover":{cursor:"pointer"},borderBottom:o===E.p.Desktop?`2px solid ${r.palette.primary.light}`:"none",transition:"all 0.3s ease"},onClick:()=>a(E.p.Desktop)},React.createElement(w.A,{icon:"mynaui:desktop",sx:{width:"24px"},color:o===E.p.Desktop?r.palette.primary.light:"initial"}))))};var k=o(73015),P=o(22971),M=o(56695),I=o(72102);const C=function(e){let{strategy:t,onClose:o,domainName:a,domainID:r,urlID:n}=e;return React.createElement(k.A,{open:!0,sx:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},React.createElement(m.A,{sx:{p:4,minHeight:400,height:"75%",width:"65%",overflowY:"auto",scrollbarWidth:"none"}},React.createElement(c.A,{sx:{display:"flex",justifyContent:"space-between"}},React.createElement(A.A,{variant:"h6",sx:{mb:1}},t===E.p.Mobile?"Mobile":"Desktop"," ","Light House Score"),React.createElement(P.A,{onClick:o,sx:{"&:hover":{cursor:"pointer"}}})),React.createElement(A.A,{variant:"body2",sx:{mb:3}},"Score Checker is our newest feature, now available for all plans during its beta phase."),React.createElement(M.w,{id:"",url:a,domain_id:r,url_id:n,device:t===E.p.Mobile?I.I.ScoreDevice.Mobile:I.I.ScoreDevice.Desktop})))};var q=o(57987);const z=(0,o(34893).A)();var B=function(e){return e.RefreshData="refresh-data",e}(B||{}),N=o(59867),T=o(96809),F=o(69597);function H(e){const t=(0,N.I)({initialData:null,queryKey:[e,"domainInfo"],queryFn:()=>async function(e){let{domainID:t}=e;const[o,a]=await(0,T.xz)({pathVars:{"{domain_id}":t}},(0,F.w9)(!1),(0,F.N4)());return[o,a]}({domainID:e})});return t}var $=o(91582);const U=(0,S.lazy)((()=>o.e(901).then(o.bind(o,80901)))),_=[E.o.HomePage,E.o.Best,E.o.Average],j=function(e){let{domainID:t,domainName:o,urlID:a}=e;const r=(0,d.A)(),[n,i]=(0,S.useState)(E.o.HomePage),[l,s]=(0,S.useState)(E.p.Mobile),[A,w]=(0,S.useState)(!1),{data:k,isFetching:P}=H(t),M=(0,S.useMemo)((()=>{const e={[E.p.Mobile]:{[E.o.HomePage]:{optimizedScore:0,originalScore:0},[E.o.Average]:{optimizedScore:0,originalScore:0},[E.o.Best]:{optimizedScore:0,originalScore:0}},[E.p.Desktop]:{[E.o.HomePage]:{optimizedScore:0,originalScore:0},[E.o.Average]:{optimizedScore:0,originalScore:0},[E.o.Best]:{optimizedScore:0,originalScore:0}}};if(!k)return e;const[t,o]=k,a=(0,v.c)(o);return a?($.toast.error(a),e):t?{[E.p.Mobile]:{[E.o.HomePage]:{optimizedScore:t.homePage?.optimizedMobile??0,originalScore:t.homePage?.originalMobile??0},[E.o.Average]:{optimizedScore:t.averageScore?.optimizedMobile??0,originalScore:t.averageScore.originalMobile??0},[E.o.Best]:{optimizedScore:t.bestScore?.optimizedMobile??0,originalScore:t.bestScore?.originalMobile??0}},[E.p.Desktop]:{[E.o.HomePage]:{optimizedScore:t.homePage?.optimizedDesktop??0,originalScore:t.homePage?.originalDesktop??0},[E.o.Average]:{optimizedScore:t.averageScore?.optimizedDesktop??0,originalScore:t.averageScore.originalDesktop??0},[E.o.Best]:{optimizedScore:t.bestScore?.optimizedDesktop??0,originalScore:t.bestScore?.originalDesktop??0}}}:e}),[k]),I=(0,S.useMemo)((()=>React.createElement(u.A,{variant:"rectangular",width:"100%",height:"100%",sx:{borderRadius:"12px"}})),[]),N=(0,S.useCallback)((e=>0===e||Number.isNaN(e)?0:Number.parseInt((0,q.kB)(e))),[]),T=(0,S.useMemo)((()=>M?l===E.p.Desktop?[N(100*M[E.p.Desktop][n].optimizedScore),N(100*M[E.p.Desktop][n].originalScore)]:l===E.p.Mobile?[N(100*M[E.p.Mobile][n].optimizedScore),N(100*M[E.p.Mobile][n].originalScore)]:void 0:[0,0]),[l,n,M,N]);return React.createElement("div",{style:{height:"100%",position:"relative"},className:"rl-mfe-performance-summary-donut"},React.createElement(c.A,{sx:{zIndex:4,position:"absolute",bottom:-7,height:"100%",width:"100%",display:"flex",justifyContent:"center"}},React.createElement(m.A,{sx:{height:"100%",width:"97%",bgcolor:r.palette.primary.main,opacity:"15%"}})),React.createElement(c.A,{sx:{zIndex:4,position:"absolute",bottom:-14,height:"100%",width:"100%",display:"flex",justifyContent:"center"}},React.createElement(m.A,{sx:{height:"100%",width:"90%",bgcolor:r.palette.primary.main,opacity:"15%"}})),React.createElement(m.A,{sx:{position:"absolute",height:"100%",width:"100%",p:2,display:"flex",flexDirection:"column",justifyContent:"space-between",overflow:"visible",borderRadius:"12px",zIndex:5}},A&&React.createElement(C,{domainID:t,domainName:o,onClose:()=>{w(!1),z.emit(B.RefreshData)},strategy:l,urlID:a}),React.createElement(D,{title:(F=_[n],(F===E.o.HomePage?"Home Page Score":F===E.o.Average?"Average Score":F===E.o.Best?"Best Score":void 0)??""),activeStrategy:l,onStrategyChange:e=>s(e)}),React.createElement(c.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"100%",py:2}},React.createElement(c.A,null,React.createElement(p.A,{disabled:0===n,onClick:()=>{n>0&&i(n-1)}},React.createElement(b.A,null))),P?I:React.createElement(S.Suspense,{fallback:I},React.createElement(U,{domainName:o,series:T??[0,0],device:l})),React.createElement(c.A,null,React.createElement(p.A,{disabled:2===n,onClick:()=>{n<2&&i(n+1)}},React.createElement(y.A,null)))),React.createElement(c.A,{sx:{display:"flex",justifyContent:n===E.o.HomePage?"space-between":"end",alignItems:"center",alignSelf:"end",width:"100%",height:30}},n===E.o.HomePage&&React.createElement(h.A,{title:"Recheck the speed score for home page"},React.createElement(g.A,{variant:"outlined",endIcon:React.createElement(R.A,{sx:{bgcolor:r.palette.primary.main,p:"1px",color:"white",borderRadius:"50%",height:25,width:25}}),sx:{textTransform:"none",borderRadius:"20px",px:"8px",py:"3px",borderColor:r.palette.primary.main,color:r.palette.primary.main,ml:1,"&:hover":{backgroundColor:"rgba(25, 118, 210, 0.1)",borderColor:r.palette.primary.main},fontWeight:500},onClick:()=>{w(!0),(0,x.ck)("score_refreshed_donut")}},"Get Updated Score")),React.createElement(f.A,{backButton:null,nextButton:null,steps:3,sx:{maxWidth:400,"& .MuiMobileStepper-dot":{width:9,height:9},"& .MuiMobileStepper-dotActive":{width:9,height:9}},position:"static",variant:"dots",activeStep:n}))));var F};function K(){const[e,t]=(0,S.useState)(React.createElement(u.A,{variant:"rectangular",height:60,width:60}));return(0,S.useEffect)((()=>{o.e(7978).then(o.t.bind(o,57978,17)).then((e=>t(React.createElement("img",{src:e.default,height:60,alt:"Boost Icon"})))).catch((e=>console.error("Failed to load image",e)))}),[]),e}function L(){const[e,t]=(0,S.useState)(React.createElement(u.A,{variant:"rectangular",height:60,width:60}));return(0,S.useEffect)((()=>{o.e(5389).then(o.t.bind(o,75389,17)).then((e=>t(React.createElement("img",{src:e.default,height:60,alt:"Boost Icon"})))).catch((e=>console.error("Failed to load image",e)))}),[]),e}function G(){const[e,t]=(0,S.useState)(React.createElement(u.A,{variant:"rectangular",height:60,width:60}));return(0,S.useEffect)((()=>{o.e(8730).then(o.t.bind(o,8730,17)).then((e=>t(React.createElement("img",{src:e.default,height:60,alt:"Boost Icon"})))).catch((e=>console.error("Failed to load image",e)))}),[]),e}const W=(0,o(20550).T)((()=>Promise.resolve().then(o.bind(o,91582)).then((e=>({default:e.toast}))))),O=(0,S.lazy)((()=>o.e(1360).then(o.bind(o,31360)))),Y={padding:2,width:"100%",height:120},Z=()=>React.createElement(u.A,{variant:"rounded",sx:Y});function V(e,t){return!e||Number.isNaN(e)?0:8*e/1048576/1.6*1e3+t}function J(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!e||0===e||Number.isNaN(e))return"0 KB";const o=t<0?0:t,a=Math.floor(Math.log(e)/Math.log(1e3));return parseFloat((e/1e3**a).toFixed(o))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][a]}const Q=(e,t)=>0===e||Number.isNaN(e)?t?"Data Not Available":"-":e>=1e3?`${(e/1e3).toFixed(1)} ${t?"seconds":"s"}`:`${e.toFixed(1)} ${t?"milliseconds":"ms"}`;function X(e){let{domainID:t}=e;const{data:o,isFetching:a}=H(t),r=(0,S.useMemo)((()=>{if(!o)return 0;const[e,t]=o,a=(0,v.c)(t);return a?(W.error(a),0):e.canonicalUrlCount}),[o]);return React.createElement(S.Suspense,{fallback:React.createElement(Z,null)},React.createElement(O,{layout:Y,isFetching:a,title:"Unique Pages",icon:React.createElement(K,null),value:r.toString(),tooltip:"Unique pages discovered on the website"}))}function ee(e){let{domainID:t}=e;const{data:o,isFetching:a}=H(t),[r,n]=(0,S.useMemo)((()=>{if(!o)return[0,"0"];const[e,t]=o,a=(0,v.c)(t);if(a)return W.error(a),[0,"0"];const r=e?.canonicalUrlCount??0;if(0===r)return[0,"0"];const n=V((e?.css?.cssSizeP1??0)/r,100),i=V((e?.css?.cssSizeAll??0)/r,150);return[n,0!==i?((i-n)/i*100).toFixed(1):"0"]}),[o]);return React.createElement(S.Suspense,{fallback:React.createElement(Z,null)},React.createElement(O,{layout:Y,isFetching:a,title:"Average Time to Load",icon:React.createElement(L,null),value:Q(r,!1),subtitle:{value:`${n}%`,substring:"faster than before"},tooltip:`Average page loading time after optimization - ${Q(r,!0)}`}))}function te(e){let{domainID:t}=e;const{data:o,isFetching:a}=H(t),[r,n]=(0,S.useMemo)((()=>{if(!o)return[0,0];const[e,t]=o,a=(0,v.c)(t);if(a)return W.error(a),[0,0];const r=e?.css?.cssSizeP1??0,n=e?.css?.cssSizeAll??0;let i="";i=0!==e.canonicalUrlCount?J(r/e?.canonicalUrlCount,1):J(0,1);const c=n>0?(n-r)/n*100:0;let l="";return l=Number.isNaN(c)||c<0?"0":c.toFixed(1),[i,l]}),[o]);return React.createElement(S.Suspense,{fallback:React.createElement(Z,null)},React.createElement(O,{layout:Y,isFetching:a,title:"Optimized CSS/Page",icon:React.createElement(G,null),value:`${r}`,subtitle:{value:`${n}%`,substring:"smaller than before"},tooltip:"Average size of optimized CSS per page"}))}const oe=new l.E({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});function ae(e){let{domID:t,domainID:o,domainName:i,urlID:c}=e;const l=React.createElement(s.Ht,{client:oe},React.createElement(n.Z6,{defaultSettings:{...n.L6,primaryColor:"preset1",direction:"ltr",contrast:"hight"}},React.createElement(r.NP,{noSsr:!0,defaultMode:r.q_.defaultMode,modeStorageKey:r.q_.modeStorageKey},React.createElement("div",{style:{all:"unset",boxSizing:"border-box",borderStyle:"unset",border:"unset"}},React.createElement(j,{domainID:o,domainName:i,urlID:c})))));if("local-testing-root-donut"===t){const e=document.getElementById(t);if(!e)return void console.warn("no dom element found");(0,a.createRoot)(e).render(l)}return l}function re(e){let{domID:t,domainID:o}=e;const l=()=>React.createElement(s.Ht,{client:oe},React.createElement(n.Z6,{defaultSettings:{...n.L6,primaryColor:"preset1",direction:"ltr",contrast:"hight"}},React.createElement(r.NP,{noSsr:!0,defaultMode:r.q_.defaultMode,modeStorageKey:r.q_.modeStorageKey},React.createElement(i.qb,null),React.createElement(c.A,{sx:{display:"flex",columnGap:3,px:3},className:"rl-mfe-performance-cards"},React.createElement(X,{domainID:o}),React.createElement(ee,{domainID:o}),React.createElement(te,{domainID:o})))));if("local-testing-root-performance"!==t)return l();{const e=document.getElementById(t);if(!e)return void console.warn("No dom element found!");(0,a.createRoot)(e).render(l())}}},20550:(e,t,o)=>{o.d(t,{T:()=>a});const a=e=>{let t=null;const o=new Proxy({},{get(e,o){if(t){const e=t[o];return"function"==typeof e?function(){return e(...arguments)}:e}throw new Error(`Module not loaded yet. Accessing property '${String(o)}' is not allowed.`)}});return(async()=>{const o=await e();t=o.default})(),o}},58947:(e,t,o)=>{o.d(t,{o:()=>a,p:()=>r});let a=function(e){return e[e.HomePage=0]="HomePage",e[e.Best=1]="Best",e[e.Average=2]="Average",e}({}),r=function(e){return e[e.Mobile=0]="Mobile",e[e.Desktop=1]="Desktop",e}({})},95949:(e,t,o)=>{function a(e,t){return{400:"Please ensure all inputs are correct.",401:"Session timed out. Please log in and try again.",402:"Upgrade is required to proceed.",403:"You do not have permission to access this resource.",404:"The requested resource could not be found.",405:"The method used is not allowed for this request.",406:"The requested format is not acceptable. Please try a different one.",407:"Authentication is required through a proxy server.",408:"The request timed out. Please try again later.",409:"There is a conflict with the current state of the resource.",410:"The requested resource is no longer available.",411:"A specific content length is required for this request.",412:"The request did not meet the required conditions.",413:"The request is too large to be processed.",414:"The URL is too long to be processed.",415:"The server cannot process the media type in the request.",416:"The requested range is not valid.",417:"Unexpected error occurred.",419:"Something unexpected happened. Please try again.",422:"The request could not be processed due to invalid data.",423:"The resource is locked and cannot be accessed.",424:"A dependency for this request failed to execute.",426:"An upgrade is required to complete the request.",428:"A required condition was not met. Please check and try again.",429:"Too many requests. Please wait and try again later.",431:"The request headers are too large. Please reduce them and try again.",451:"This resource is unavailable due to legal restrictions.",500:"An error occurred on the server. Please try again later.",502:"There was an error from the server acting as a gateway.",503:"The service is temporarily unavailable. Please try again later.",504:"The gateway server timed out. Please try again later.",505:"The HTTP version used is not supported by the server.",506:"There is a server configuration issue. Please try again later.",507:"The server does not have enough storage to process this request.",508:"A server loop was detected. Please try again later.",510:"Additional extensions are required to complete this request.",511:"Network authentication is required. Please log in and try again.",...t?.customErrors||{}}[e]||null}o.d(t,{c:()=>a})}}]);