"use strict";(this.webpackChunkRLAdmin=this.webpackChunkRLAdmin||[]).push([[439],{10439:(e,t,o)=>{o.d(t,{PerformanceSummary:()=>ne,RenderPerformanceCards:()=>ae});var r=o(25873),n=o(68430),a=o(63600),i=o(15189),l=o(74702),c=o(93402),s=o(6530),u=o(22854),d=o(12302),m=o(78722),p=o(47086),g=o(37529),h=o(52711),v=o(72152),f=o(13590),b=o(47719),y=o(14041),S=o(95949),R=o(58947),E=o(28804),x=o(65990),A=o(86966);const w=function(e){let{title:t,activeStrategy:o,onStrategyChange:r}=e;const n=(0,s.A)();return React.createElement(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement(i.A,null,React.createElement(x.A,{variant:"h6",textAlign:"start",color:"textPrimary"},t),React.createElement(i.A,{sx:{display:"flex",alignItems:"center"}},React.createElement(i.A,{sx:{width:8,height:8,backgroundColor:n.palette.error.main,borderRadius:"50%",mr:1}}),React.createElement(x.A,{variant:"caption",color:"textSecondary"},"Before"),React.createElement(i.A,{sx:{width:8,height:8,backgroundColor:n.palette.success.main,borderRadius:"50%",ml:2,mr:1}}),React.createElement(x.A,{variant:"caption",color:"textSecondary"},"After"))),React.createElement(i.A,{sx:{display:"flex",columnGap:1}},React.createElement(i.A,{sx:{textDecoration:o===R.p.Desktop?"underline":"none","&:hover":{cursor:"pointer"},borderBottom:o===R.p.Desktop?"2px solid ".concat(n.palette.primary.main):"none",transition:"all 0.3s ease"},onClick:()=>r(R.p.Desktop)},React.createElement(A.W,{icon:"mynaui:desktop",sx:{width:"24px"},color:o===R.p.Desktop?n.palette.primary.main:"initial"})),React.createElement(i.A,{sx:{textDecoration:o===R.p.Mobile?"underline":"none","&:hover":{cursor:"pointer"},borderBottom:o===R.p.Mobile?"2px solid ".concat(n.palette.primary.main):"none",transition:"all 0.3s ease"},onClick:()=>r(R.p.Mobile)},React.createElement(A.W,{icon:"mynaui:mobile",sx:{width:"24px"},color:o===R.p.Mobile?n.palette.primary.main:"initial"}))))};var P=o(73015),D=o(22971),k=o(95020),I=o(72102);const M=function(e){let{strategy:t,onClose:o,domainName:r,domainID:n,urlID:a}=e;return React.createElement(P.A,{open:!0,sx:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},React.createElement(d.A,{sx:{p:4,minHeight:400,height:"75%",width:"65%",overflowY:"auto",scrollbarWidth:"none"}},React.createElement(i.A,{sx:{display:"flex",justifyContent:"space-between"}},React.createElement(x.A,{variant:"h6",sx:{mb:1}},t===R.p.Mobile?"Mobile":"Desktop"," ","Light House Score"),React.createElement(D.A,{onClick:o,sx:{"&:hover":{cursor:"pointer"}}})),React.createElement(x.A,{variant:"body2",sx:{mb:3}},"Score Checker is our newest feature, now available for all plans during its beta phase."),React.createElement(k.w,{id:"",url:r,domain_id:n,url_id:a,device:t===R.p.Mobile?I.I.ScoreDevice.Mobile:I.I.ScoreDevice.Desktop})))};var O=o(5370);const j=(0,o(34893).A)();var C=function(e){return e.RefreshData="refresh-data",e}(C||{}),q=o(78489),z=o(96809),B=o(69597);function N(e){const t=(0,q.I)({initialData:[new I.I.DomainInfo,0],queryKey:[e,"domainInfo"],queryFn:()=>async function(e){let{domainID:t}=e;const[o,r]=await(0,z.xz)({pathVars:{"{domain_id}":t}},(0,B.w9)(!1),(0,B.N4)());return[o,r]}({domainID:e})});return t}var T=o(79744);const F=(0,y.lazy)(()=>o.e(5996).then(o.bind(o,75996))),H=[R.o.HomePage,R.o.Best,R.o.Average],U=function(e){var t;let{domainID:o,domainName:r,urlID:n}=e;const a=(0,s.A)(),[l,c]=(0,y.useState)(R.o.HomePage),[x,A]=(0,y.useState)(R.p.Desktop),[P,D]=(0,y.useState)(!1),{data:k,isFetching:I}=N(o),q=(0,y.useMemo)(()=>{var e,t,o,r,n,a,i,l,c,s,u,d,m,p,g,h,v,f,b,y,E,x,A,w;const P={[R.p.Mobile]:{[R.o.HomePage]:{optimizedScore:0,originalScore:0},[R.o.Average]:{optimizedScore:0,originalScore:0},[R.o.Best]:{optimizedScore:0,originalScore:0}},[R.p.Desktop]:{[R.o.HomePage]:{optimizedScore:0,originalScore:0},[R.o.Average]:{optimizedScore:0,originalScore:0},[R.o.Best]:{optimizedScore:0,originalScore:0}}};if(!k)return P;const[D,I]=k,M=(0,S.c)(I);return M?((0,T.v)(M,I,"error"),P):D?{[R.p.Mobile]:{[R.o.HomePage]:{optimizedScore:null!==(e=null===(t=D.homePage)||void 0===t?void 0:t.optimizedMobile)&&void 0!==e?e:0,originalScore:null!==(o=null===(r=D.homePage)||void 0===r?void 0:r.originalMobile)&&void 0!==o?o:0},[R.o.Average]:{optimizedScore:null!==(n=null===(a=D.averageScore)||void 0===a?void 0:a.optimizedMobile)&&void 0!==n?n:0,originalScore:null!==(i=null===(l=D.averageScore)||void 0===l?void 0:l.originalMobile)&&void 0!==i?i:0},[R.o.Best]:{optimizedScore:null!==(c=null===(s=D.bestScore)||void 0===s?void 0:s.optimizedMobile)&&void 0!==c?c:0,originalScore:null!==(u=null===(d=D.bestScore)||void 0===d?void 0:d.originalMobile)&&void 0!==u?u:0}},[R.p.Desktop]:{[R.o.HomePage]:{optimizedScore:null!==(m=null===(p=D.homePage)||void 0===p?void 0:p.optimizedDesktop)&&void 0!==m?m:0,originalScore:null!==(g=null===(h=D.homePage)||void 0===h?void 0:h.originalDesktop)&&void 0!==g?g:0},[R.o.Average]:{optimizedScore:null!==(v=null===(f=D.averageScore)||void 0===f?void 0:f.optimizedDesktop)&&void 0!==v?v:0,originalScore:null!==(b=null===(y=D.averageScore)||void 0===y?void 0:y.originalDesktop)&&void 0!==b?b:0},[R.o.Best]:{optimizedScore:null!==(E=null===(x=D.bestScore)||void 0===x?void 0:x.optimizedDesktop)&&void 0!==E?E:0,originalScore:null!==(A=null===(w=D.bestScore)||void 0===w?void 0:w.originalDesktop)&&void 0!==A?A:0}}}:P},[k]),z=(0,y.useMemo)(()=>React.createElement(u.A,{variant:"rectangular",width:"100%",height:"100%",sx:{borderRadius:"12px"}}),[]),B=(0,y.useCallback)(e=>0===e||Number.isNaN(e)?0:Number.parseInt((0,O.kB)(e)),[]),U=(0,y.useMemo)(()=>q?x===R.p.Desktop?[B(100*q[R.p.Desktop][l].optimizedScore),B(100*q[R.p.Desktop][l].originalScore)]:x===R.p.Mobile?[B(100*q[R.p.Mobile][l].optimizedScore),B(100*q[R.p.Mobile][l].originalScore)]:void 0:[0,0],[x,l,q,B]);return React.createElement("div",{style:{height:"100%",position:"relative"},className:"rl-mfe-performance-summary-donut"},React.createElement(i.A,{sx:{zIndex:4,position:"absolute",bottom:-7,height:"100%",width:"100%",display:"flex",justifyContent:"center"}},React.createElement(d.A,{sx:{height:"100%",width:"97%",bgcolor:a.palette.primary.main,opacity:"15%"}})),React.createElement(i.A,{sx:{zIndex:4,position:"absolute",bottom:-14,height:"100%",width:"100%",display:"flex",justifyContent:"center"}},React.createElement(d.A,{sx:{height:"100%",width:"90%",bgcolor:a.palette.primary.main,opacity:"15%"}})),React.createElement(d.A,{sx:{position:"absolute",height:"100%",width:"100%",p:2,display:"flex",flexDirection:"column",justifyContent:"space-between",overflow:"visible",borderRadius:"12px",zIndex:5,boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.2)"}},P&&React.createElement(M,{domainID:o,domainName:r,onClose:()=>{D(!1),j.emit(C.RefreshData)},strategy:x,urlID:n}),React.createElement(w,{title:null!==(_=H[l],t=_===R.o.HomePage?"Home Page Score":_===R.o.Average?"Average Score":_===R.o.Best?"Best Score":void 0)&&void 0!==t?t:"",activeStrategy:x,onStrategyChange:e=>A(e)}),React.createElement(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"100%",py:2}},React.createElement(i.A,null,React.createElement(m.A,{disabled:0===l,onClick:()=>{l>0&&c(l-1)}},React.createElement(v.A,null))),I?z:React.createElement(y.Suspense,{fallback:z},React.createElement(F,{domainName:r,series:null!=U?U:[0,0],device:x})),React.createElement(i.A,null,React.createElement(m.A,{disabled:2===l,onClick:()=>{l<2&&c(l+1)}},React.createElement(f.A,null)))),React.createElement(i.A,{sx:{display:"flex",justifyContent:l===R.o.HomePage?"space-between":"end",alignItems:"center",alignSelf:"end",width:"100%",height:30}},l===R.o.HomePage&&React.createElement(p.A,{title:"Recheck the speed score for home page"},React.createElement(g.A,{variant:"outlined",endIcon:React.createElement(b.A,{sx:{bgcolor:a.palette.primary.main,p:"1px",color:"white",borderRadius:"50%",height:25,width:25}}),sx:{textTransform:"none",borderRadius:"20px",px:"8px",py:"3px",borderColor:a.palette.primary.main,color:a.palette.primary.main,ml:1,"&:hover":{backgroundColor:"rgba(25, 118, 210, 0.1)",borderColor:a.palette.primary.main},fontWeight:500},onClick:()=>{D(!0),(0,E.ck)("score_refreshed_donut")}},"Get Updated Score")),React.createElement(h.A,{backButton:null,nextButton:null,steps:3,sx:{maxWidth:400,bgcolor:"white","& .MuiMobileStepper-dot":{width:9,height:9},"& .MuiMobileStepper-dotActive":{width:9,height:9}},position:"static",variant:"dots",activeStep:l}))));var _};function _(){const[e,t]=(0,y.useState)(React.createElement(u.A,{variant:"rectangular",height:60,width:60}));return(0,y.useEffect)(()=>{o.e(6246).then(o.t.bind(o,36246,17)).then(e=>t(React.createElement("img",{src:e.default,height:60,alt:"Boost Icon"}))).catch(e=>console.error("Failed to load image",e))},[]),e}function K(){const[e,t]=(0,y.useState)(React.createElement(u.A,{variant:"rectangular",height:60,width:60}));return(0,y.useEffect)(()=>{o.e(9406).then(o.t.bind(o,89406,17)).then(e=>t(React.createElement("img",{src:e.default,height:60,alt:"Boost Icon"}))).catch(e=>console.error("Failed to load image",e))},[]),e}function L(){const[e,t]=(0,y.useState)(React.createElement(u.A,{variant:"rectangular",height:60,width:60}));return(0,y.useEffect)(()=>{o.e(3886).then(o.t.bind(o,43886,17)).then(e=>t(React.createElement("img",{src:e.default,height:60,alt:"Boost Icon"}))).catch(e=>console.error("Failed to load image",e))},[]),e}const W=(0,y.lazy)(()=>o.e(1360).then(o.bind(o,31360))),G={padding:2,width:"100%",height:120},Y=()=>React.createElement(u.A,{variant:"rounded",sx:G});function Z(e,t){return!e||Number.isNaN(e)?0:8*e/1048576/1.6*1e3+t}function V(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!e||0===e||Number.isNaN(e))return"0 KB";const o=t<0?0:t,r=Math.floor(Math.log(e)/Math.log(1e3));return parseFloat((e/1e3**r).toFixed(o))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]}const J=(e,t)=>0===e||Number.isNaN(e)?t?"Data Not Available":"-":e>=1e3?"".concat((e/1e3).toFixed(1)," ").concat(t?"seconds":"s"):"".concat(e.toFixed(1)," ").concat(t?"milliseconds":"ms");function Q(e){let{domainID:t}=e;const{data:o,isFetching:r}=N(t),n=(0,y.useMemo)(()=>{if(!o)return 0;const[e,t]=o,r=(0,S.c)(t);return r?((0,T.v)(r,t,"error"),0):e.canonicalUrlCount},[o]);return React.createElement(y.Suspense,{fallback:React.createElement(Y,null)},React.createElement(W,{layout:G,isFetching:r,title:"Unique Pages",icon:React.createElement(_,null),value:n.toString(),tooltip:"Unique pages discovered on the website"}))}function X(e){let{domainID:t}=e;const{data:o,isFetching:r}=N(t),[n,a]=(0,y.useMemo)(()=>{var e,t,r,n,a;if(!o)return[0,"0"];const[i,l]=o,c=(0,S.c)(l);if(c)return(0,T.v)(c,l,"error"),[0,"0"];const s=null!==(e=null==i?void 0:i.canonicalUrlCount)&&void 0!==e?e:0;if(0===s)return[0,"0"];const u=Z((null!==(t=null==i||null===(r=i.css)||void 0===r?void 0:r.cssSizeP1)&&void 0!==t?t:0)/s,100),d=Z((null!==(n=null==i||null===(a=i.css)||void 0===a?void 0:a.cssSizeAll)&&void 0!==n?n:0)/s,150);return[u,0!==d?((d-u)/d*100).toFixed(1):"0"]},[o]);return React.createElement(y.Suspense,{fallback:React.createElement(Y,null)},React.createElement(W,{layout:G,isFetching:r,title:"Average Time to Load",icon:React.createElement(K,null),value:J(n,!1),subtitle:{value:"".concat(a,"%"),substring:"faster than before"},tooltip:"Average page loading time after optimization - ".concat(J(n,!0))}))}function $(e){let{domainID:t}=e;const{data:o,isFetching:r}=N(t),[n,a]=(0,y.useMemo)(()=>{var e,t,r,n;if(!o)return[0,0];const[a,i]=o,l=(0,S.c)(i);if(l)return(0,T.v)(l,i,"error"),[0,0];const c=null!==(e=null==a||null===(t=a.css)||void 0===t?void 0:t.cssSizeP1)&&void 0!==e?e:0,s=null!==(r=null==a||null===(n=a.css)||void 0===n?void 0:n.cssSizeAll)&&void 0!==r?r:0;let u="";u=0!==a.canonicalUrlCount?V(c/(null==a?void 0:a.canonicalUrlCount),1):V(0,1);const d=s>0?(s-c)/s*100:0;let m="";return m=Number.isNaN(d)||d<0?"0":d.toFixed(1),[u,m]},[o]);return React.createElement(y.Suspense,{fallback:React.createElement(Y,null)},React.createElement(W,{layout:G,isFetching:r,title:"Optimized CSS/Page",icon:React.createElement(L,null),value:"".concat(n),subtitle:{value:"".concat(a,"%"),substring:"smaller than before"},tooltip:"Average size of optimized CSS per page"}))}function ee(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function te(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(o),!0).forEach(function(t){oe(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):ee(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function oe(e,t,o){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const re=new l.E({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});function ne(e){let{domID:t,domainID:o,domainName:i,urlID:l}=e;const s=React.createElement(c.Ht,{client:re},React.createElement(a.Z6,{defaultSettings:te(te({},a.L6),{},{primaryColor:"preset1",direction:"ltr",contrast:"hight"})},React.createElement(n.NP,{noSsr:!0,defaultMode:n.q_.defaultMode,modeStorageKey:n.q_.modeStorageKey},React.createElement(U,{domainID:o,domainName:i,urlID:l}))));if("local-testing-root-donut"===t){const e=document.getElementById(t);if(!e)return void console.warn("no dom element found");(0,r.createRoot)(e).render(s)}return s}function ae(e){let{domID:t,domainID:o}=e;const l=()=>React.createElement(c.Ht,{client:re},React.createElement(a.Z6,{defaultSettings:te(te({},a.L6),{},{primaryColor:"preset1",direction:"ltr",contrast:"hight"})},React.createElement(n.NP,{noSsr:!0,defaultMode:n.q_.defaultMode,modeStorageKey:n.q_.modeStorageKey},React.createElement(i.A,{sx:{display:"flex",columnGap:3,px:3},className:"rl-mfe-performance-cards"},React.createElement(Q,{domainID:o}),React.createElement(X,{domainID:o}),React.createElement($,{domainID:o})))));if("local-testing-root-performance"!==t)return l();{const e=document.getElementById(t);if(!e)return void console.warn("No dom element found!");(0,r.createRoot)(e).render(l())}}},58947:(e,t,o)=>{o.d(t,{o:()=>r,p:()=>n});let r=function(e){return e[e.HomePage=0]="HomePage",e[e.Best=1]="Best",e[e.Average=2]="Average",e}({}),n=function(e){return e[e.Mobile=0]="Mobile",e[e.Desktop=1]="Desktop",e}({})},95949:(e,t,o)=>{function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function n(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach(function(t){a(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function a(e,t,o){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e,t){return n(n({},{400:"Please ensure all inputs are correct.",401:"Session timed out. Please log in and try again.",402:"Upgrade is required to proceed.",403:"You do not have permission to access this resource.",404:"The requested resource could not be found.",405:"The method used is not allowed for this request.",406:"The requested format is not acceptable. Please try a different one.",407:"Authentication is required through a proxy server.",408:"The request timed out. Please try again later.",409:"There is a conflict with the current state of the resource.",410:"The requested resource is no longer available.",411:"A specific content length is required for this request.",412:"The request did not meet the required conditions.",413:"The request is too large to be processed.",414:"The URL is too long to be processed.",415:"The server cannot process the media type in the request.",416:"The requested range is not valid.",417:"Unexpected error occurred.",419:"Something unexpected happened. Please try again.",422:"The request could not be processed due to invalid data.",423:"The resource is locked and cannot be accessed.",424:"A dependency for this request failed to execute.",426:"An upgrade is required to complete the request.",428:"A required condition was not met. Please check and try again.",429:"Too many requests. Please wait and try again later.",431:"The request headers are too large. Please reduce them and try again.",451:"This resource is unavailable due to legal restrictions.",500:"An error occurred on the server. Please try again later.",502:"There was an error from the server acting as a gateway.",503:"The service is temporarily unavailable. Please try again later.",504:"The gateway server timed out. Please try again later.",505:"The HTTP version used is not supported by the server.",506:"There is a server configuration issue. Please try again later.",507:"The server does not have enough storage to process this request.",508:"A server loop was detected. Please try again later.",510:"Additional extensions are required to complete this request.",511:"Network authentication is required. Please log in and try again."}),(null==t?void 0:t.customErrors)||{})[e]||null}o.d(t,{c:()=>i})}}]);