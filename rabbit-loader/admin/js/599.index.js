"use strict";(this.webpackChunkRLAdmin=this.webpackChunkRLAdmin||[]).push([[599],{50599:(e,t,r)=>{r.r(t),r.d(t,{PerformanceSummary:()=>ke,RenderPerformanceCards:()=>Pe});var a=r(14041),n=r(25873),o=r(31717),i=r(83818),c=r(68430),l=r(63600),s=r(91582),u=r(49676),d=r(86966),m=r(98927),p=r(59193),g=r(42428);const h={root:(0,g.L)("snackbar__root"),toast:(0,g.L)("snackbar__toast"),title:(0,g.L)("snackbar__title"),icon:(0,g.L)("snackbar__icon"),iconSvg:(0,g.L)("snackbar__icon__svg"),content:(0,g.L)("snackbar__content"),description:(0,g.L)("snackbar__description"),actionButton:(0,g.L)("snackbar__action__button"),cancelButton:(0,g.L)("snackbar__cancel__button"),closeButton:(0,g.L)("snackbar__close_button"),loadingIcon:(0,g.L)("snackbar__loading_icon"),default:(0,g.L)("snackbar__default"),error:(0,g.L)("snackbar__error"),success:(0,g.L)("snackbar__success"),warning:(0,g.L)("snackbar__warning"),info:(0,g.L)("snackbar__info"),loader:"sonner-loader",loaderVisible:'&[data-visible="true"]',closeBtnVisible:'[data-close-button="true"]'};function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const y=(0,p.Ay)(s.Toaster)((e=>{let{theme:t}=e;const r={toastDefault:{padding:t.spacing(1,1,1,1.5),boxShadow:t.vars.customShadows.z8,color:t.vars.palette.background.paper,backgroundColor:t.vars.palette.text.primary},toastColor:{padding:t.spacing(.5,1,.5,.5),boxShadow:t.vars.customShadows.z8,color:t.vars.palette.text.primary,backgroundColor:t.vars.palette.background.paper},toastLoader:{padding:t.spacing(.5,1,.5,.5),boxShadow:t.vars.customShadows.z8,color:t.vars.palette.text.primary,backgroundColor:t.vars.palette.background.paper}},a={top:0,left:0,width:"100%",height:"100%",display:"none",transform:"none",overflow:"hidden",alignItems:"center",position:"relative",borderRadius:"inherit",justifyContent:"center",background:t.vars.palette.background.neutral,["& .".concat(h.loadingIcon)]:{zIndex:9,width:24,height:24,borderRadius:"50%",animation:"rotate 3s infinite linear",background:"conic-gradient(transparent, ".concat((0,m.IG)(t.vars.palette.text.disabledChannel,.64),")")},[h.loaderVisible]:{display:"flex"}};return{width:300,["& .".concat(h.toast)]:{gap:12,width:"100%",minHeight:52,display:"flex",borderRadius:12,alignItems:"center"},["& .".concat(h.content)]:{gap:0,flex:"1 1 auto"},["& .".concat(h.title)]:{fontSize:t.typography.caption.fontSize,fontWeight:t.typography.subtitle1.fontWeight},["& .".concat(h.description)]:b(b({},t.typography.caption),{},{opacity:.64}),["& .".concat(h.actionButton)]:{},["& .".concat(h.cancelButton)]:{},["& .".concat(h.closeButton)]:{top:0,right:0,left:"auto",color:"currentColor",backgroundColor:"transparent",transform:"translate(-6px, 6px)",borderColor:(0,m.IG)(t.vars.palette.grey["500Channel"],.16),transition:t.transitions.create(["background-color","border-color"]),"&:hover":{borderColor:(0,m.IG)(t.vars.palette.grey["500Channel"],.24),backgroundColor:(0,m.IG)(t.vars.palette.grey["500Channel"],.08)}},["& .".concat(h.icon)]:{margin:0,width:48,height:48,alignItems:"center",borderRadius:"inherit",justifyContent:"center",alignSelf:"flex-start",["& .".concat(h.iconSvg)]:{width:24,height:24,fontSize:0}},"@keyframes rotate":{to:{transform:"rotate(1turn)"}},["& .".concat(h.default)]:b(b({},r.toastDefault),{},{["&:has(".concat(h.closeBtnVisible,")")]:{["& .".concat(h.content)]:{paddingRight:32}},["&:has(.".concat(h.loader,")")]:r.toastLoader,["&:has(.".concat(h.loader,")")]:r.toastLoader,["& .".concat(h.loader)]:a}),["& .".concat(h.error)]:b(b({},r.toastColor),{},{["& .".concat(h.icon)]:{color:t.vars.palette.error.main,backgroundColor:(0,m.IG)(t.vars.palette.error.mainChannel,.08)}}),["& .".concat(h.success)]:b(b({},r.toastColor),{},{["& .".concat(h.icon)]:{color:t.vars.palette.success.main,backgroundColor:(0,m.IG)(t.vars.palette.success.mainChannel,.08)}}),["& .".concat(h.warning)]:b(b({},r.toastColor),{},{["& .".concat(h.icon)]:{color:t.vars.palette.warning.main,backgroundColor:(0,m.IG)(t.vars.palette.warning.mainChannel,.08)}}),["& .".concat(h.info)]:b(b({},r.toastColor),{},{["& .".concat(h.icon)]:{color:t.vars.palette.info.main,backgroundColor:(0,m.IG)(t.vars.palette.info.mainChannel,.08)}})}}));function x(){return React.createElement(u.A,null,React.createElement(y,{expand:!0,gap:12,closeButton:!0,offset:16,visibleToasts:4,position:"top-right",className:h.root,toastOptions:{unstyled:!0,classNames:{toast:h.toast,icon:h.icon,content:h.content,title:h.title,description:h.description,actionButton:h.actionButton,cancelButton:h.cancelButton,closeButton:h.closeButton,default:h.default,info:h.info,error:h.error,success:h.success,warning:h.warning}},icons:{loading:React.createElement("span",{className:h.loadingIcon}),info:React.createElement(d.W,{className:h.iconSvg,icon:"solar:info-circle-bold"}),success:React.createElement(d.W,{className:h.iconSvg,icon:"solar:check-circle-bold"}),warning:React.createElement(d.W,{className:h.iconSvg,icon:"solar:danger-triangle-bold"}),error:React.createElement(d.W,{className:h.iconSvg,icon:"solar:danger-bold"})}}))}var E=r(22771),w=r(74702),S=r(93402),R=r(6530),A=r(12302),k=r(78722),P=r(22854),C=r(47086),D=r(37529),I=r(52711),O=r(72152),j=r(13590),_=r(47719),B=r(96809),z=r(5319);async function M(e){let{domainID:t}=e;const[r,a]=await(0,B.xz)({pathVars:{"{domain_id}":t}},(0,z.w9)(!1),(0,z.N4)());return[r,a]}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function q(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L(e,t){return T(T({},{400:"Please ensure all inputs are correct.",401:"Session timed out. Please log in and try again.",402:"Upgrade is required to proceed.",403:"You do not have permission to access this resource.",404:"The requested resource could not be found.",405:"The method used is not allowed for this request.",406:"The requested format is not acceptable. Please try a different one.",407:"Authentication is required through a proxy server.",408:"The request timed out. Please try again later.",409:"There is a conflict with the current state of the resource.",410:"The requested resource is no longer available.",411:"A specific content length is required for this request.",412:"The request did not meet the required conditions.",413:"The request is too large to be processed.",414:"The URL is too long to be processed.",415:"The server cannot process the media type in the request.",416:"The requested range is not valid.",417:"Unexpected error occurred.",419:"Something unexpected happened. Please try again.",422:"The request could not be processed due to invalid data.",423:"The resource is locked and cannot be accessed.",424:"A dependency for this request failed to execute.",426:"An upgrade is required to complete the request.",428:"A required condition was not met. Please check and try again.",429:"Too many requests. Please wait and try again later.",431:"The request headers are too large. Please reduce them and try again.",451:"This resource is unavailable due to legal restrictions.",500:"An error occurred on the server. Please try again later.",502:"There was an error from the server acting as a gateway.",503:"The service is temporarily unavailable. Please try again later.",504:"The gateway server timed out. Please try again later.",505:"The HTTP version used is not supported by the server.",506:"There is a server configuration issue. Please try again later.",507:"The server does not have enough storage to process this request.",508:"A server loop was detected. Please try again later.",510:"Additional extensions are required to complete this request.",511:"Network authentication is required. Please log in and try again."}),(null==t?void 0:t.customErrors)||{})[e]||null}let H=function(e){return e[e.HomePage=0]="HomePage",e[e.Best=1]="Best",e[e.Average=2]="Average",e}({}),F=function(e){return e[e.Mobile=0]="Mobile",e[e.Desktop=1]="Desktop",e}({});var G=r(28804),U=r(65990),W=r(98412);const K=function(e){let{title:t,activeStrategy:r,onStrategyChange:a}=e;const n=(0,R.A)();return React.createElement(E.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement(E.A,null,React.createElement(U.A,{variant:"h6",textAlign:"start",color:"textPrimary"},t),React.createElement(E.A,{sx:{display:"flex",alignItems:"center"}},React.createElement(E.A,{sx:{width:8,height:8,backgroundColor:n.palette.error.main,borderRadius:"50%",mr:1}}),React.createElement(U.A,{variant:"caption",color:"textSecondary"},"Before"),React.createElement(E.A,{sx:{width:8,height:8,backgroundColor:n.palette.success.main,borderRadius:"50%",ml:2,mr:1}}),React.createElement(U.A,{variant:"caption",color:"textSecondary"},"After"))),React.createElement(E.A,{sx:{display:"flex",columnGap:1}},React.createElement(E.A,{sx:{textDecoration:r===F.Mobile?"underline":"none","&:hover":{cursor:"pointer"},borderBottom:r===F.Mobile?"2px solid ".concat(n.palette.primary.light):"none",transition:"all 0.3s ease"},onClick:()=>a(F.Mobile)},React.createElement(W.A,{icon:"mynaui:mobile",sx:{width:"24px"},color:r===F.Mobile?n.palette.primary.light:"initial"})),React.createElement(E.A,{sx:{textDecoration:r===F.Desktop?"underline":"none","&:hover":{cursor:"pointer"},borderBottom:r===F.Desktop?"2px solid ".concat(n.palette.primary.light):"none",transition:"all 0.3s ease"},onClick:()=>a(F.Desktop)},React.createElement(W.A,{icon:"mynaui:desktop",sx:{width:"24px"},color:r===F.Desktop?n.palette.primary.light:"initial"}))))};var V=r(73015),Y=r(22971),Z=r(55551),J=r(8836);const Q=function(e){let{strategy:t,onClose:r,domainName:a,domainID:n,urlID:o}=e;return React.createElement(V.A,{open:!0,sx:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},React.createElement(A.A,{sx:{p:4,minHeight:400,height:"75%",width:"65%",overflowY:"auto",scrollbarWidth:"none"}},React.createElement(E.A,{sx:{display:"flex",justifyContent:"space-between"}},React.createElement(U.A,{variant:"h6",sx:{mb:1}},t===F.Mobile?"Mobile":"Desktop"," ","Light House Score"),React.createElement(Y.A,{onClick:r,sx:{"&:hover":{cursor:"pointer"}}})),React.createElement(U.A,{variant:"body2",sx:{mb:3}},"Score Checker is our newest feature, now available for all plans during its beta phase."),React.createElement(Z.w,{id:"",url:a,domain_id:n,url_id:o,device:t===F.Mobile?J.I.ScoreDevice.Mobile:J.I.ScoreDevice.Desktop})))};var X=r(57987),$=r(68355);const ee=function(e){let{device:t,domainName:r,series:n}=e;const o=(0,R.A)(),[i,c]=(0,a.useState)(0),l=(0,a.useCallback)((e=>e>=85?[o.palette.success.light,o.palette.success.main]:e>=50?[o.palette.warning.light,o.palette.warning.main]:0===e?[o.palette.grey[400],o.palette.grey[700]]:[o.palette.error.light,o.palette.error.main]),[o]),s=(0,a.useMemo)((()=>[l(n[0]),l(n[1])]),[n,l]),u=(0,a.useCallback)(((e,t,r)=>'\n        <div style="padding: 0.5rem; display: flex; justify-content: space-between; align-items: end; z-index: 9999">\n          <div style="margin-right: 1rem; display: flex; flex-direction: column; align-items: start;">\n            <span style="font-size: 0.9rem;">'.concat(e,'</span>\n            <span style="font-size: 0.75rem;">').concat(t,'</span>\n          </div>\n          <div style="font-size: 1.25rem; font-weight: 700; color: ').concat(l(r)[1],'">').concat(r.toString(),"</div>\n        </div>\n        ")),[l]),d=(0,$.u)({colors:s.map((e=>e[1])),chart:{sparkline:{enabled:!0}},legend:{position:"bottom",horizontalAlign:"center",show:!1},tooltip:{enabled:!0,custom:e=>{var a;const n=t===F.Desktop?"Desktop":"Mobile",o=1===e.seriesIndex?"before":"after",i="".concat(n," score ").concat(o," RabbitLoader");return u(i,r,null===(a=e.series)||void 0===a?void 0:a[e.seriesIndex])}},fill:{type:"gradient",gradient:{colorStops:s.map((e=>[{offset:0,color:e[0],opacity:1},{offset:100,color:e[1],opacity:1}]))}},plotOptions:{radialBar:{hollow:{size:"50%"},track:{show:!0},dataLabels:{value:{fontSize:"2.5rem",offsetY:15,color:l(i)[1],formatter:e=>(c(e),"".concat(e))},name:{show:!0},total:{label:"",formatter(e){var t;const r=n?null==e||null===(t=e.config)||void 0===t||null===(t=t.series)||void 0===t?void 0:t[0]:0;return c(r),r.toString()}}}}}});return React.createElement($.A,{dir:"ltr",type:"radialBar",series:n,options:d,width:200,height:200})},te=(0,r(34893).A)();var re=function(e){return e.RefreshData="refresh-data",e}(re||{});const ae=e=>{let t=null;const r=new Proxy({},{get(e,r){if(t){const e=t[r];return"function"==typeof e?function(){return e(...arguments)}:e}throw new Error("Module not loaded yet. Accessing property '".concat(String(r),"' is not allowed."))}});return(async()=>{const r=await e();t=r.default})(),r},ne=ae((()=>Promise.resolve().then(r.bind(r,91582)).then((e=>({default:e.toast}))))),oe=[H.HomePage,H.Best,H.Average],ie=function(e){var t;let{domainID:r,domainName:n,urlID:o}=e;const i=(0,R.A)(),[c,l]=(0,a.useState)(),[s,u]=(0,a.useState)(H.HomePage),[d,m]=(0,a.useState)(F.Mobile),[p,g]=(0,a.useState)(!1),[h,f]=(0,a.useState)(!1),b=(0,a.useCallback)((e=>0===e||Number.isNaN(e)?0:Number.parseInt((0,X.kB)(e))),[]),v=(0,a.useMemo)((()=>c?d===F.Desktop?[b(100*c[F.Desktop][s].optimizedScore),b(100*c[F.Desktop][s].originalScore)]:d===F.Mobile?[b(100*c[F.Mobile][s].optimizedScore),b(100*c[F.Mobile][s].originalScore)]:void 0:[0,0]),[d,s,c,b]);return(0,a.useEffect)((()=>{async function e(){f(!0);const[e,t]=await M({domainID:r}),a=L(t);a?ne.error(a):(console.debug(e.toObject()),l({[F.Mobile]:{[H.HomePage]:{optimizedScore:e.homePage.optimizedMobile,originalScore:e.homePage.originalMobile},[H.Average]:{optimizedScore:e.averageScore.optimizedMobile,originalScore:e.averageScore.originalMobile},[H.Best]:{optimizedScore:e.bestScore.optimizedMobile,originalScore:e.bestScore.originalMobile}},[F.Desktop]:{[H.HomePage]:{optimizedScore:e.homePage.optimizedDesktop,originalScore:e.homePage.originalDesktop},[H.Average]:{optimizedScore:e.averageScore.optimizedDesktop,originalScore:e.averageScore.originalDesktop},[H.Best]:{optimizedScore:e.bestScore.optimizedDesktop,originalScore:e.bestScore.originalDesktop}}}),f(!1))}return te.on(re.RefreshData,e),e(),()=>{te.off(re.RefreshData)}}),[r]),React.createElement("div",{style:{height:"100%",position:"relative"},className:"rl-mfe-performance-summary-donut"},React.createElement(E.A,{sx:{zIndex:4,position:"absolute",bottom:-7,height:"100%",width:"100%",display:"flex",justifyContent:"center"}},React.createElement(A.A,{sx:{height:"100%",width:"97%",bgcolor:i.palette.primary.main,opacity:"15%"}})),React.createElement(E.A,{sx:{zIndex:4,position:"absolute",bottom:-14,height:"100%",width:"100%",display:"flex",justifyContent:"center"}},React.createElement(A.A,{sx:{height:"100%",width:"90%",bgcolor:i.palette.primary.main,opacity:"15%"}})),React.createElement(A.A,{sx:{position:"absolute",height:"100%",width:"100%",p:2,display:"flex",flexDirection:"column",justifyContent:"space-between",overflow:"visible",borderRadius:"12px",zIndex:5}},p&&React.createElement(Q,{domainID:r,domainName:n,onClose:()=>{g(!1),te.emit(re.RefreshData)},strategy:d,urlID:o}),React.createElement(K,{title:null!==(y=oe[s],t=y===H.HomePage?"Home Page Score":y===H.Average?"Average Score":y===H.Best?"Best Score":void 0)&&void 0!==t?t:"",activeStrategy:d,onStrategyChange:e=>m(e)}),React.createElement(E.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"100%",py:2}},React.createElement(E.A,null,React.createElement(k.A,{disabled:0===s,onClick:()=>{s>0&&u(s-1)}},React.createElement(O.A,null))),h?React.createElement(P.A,{variant:"rectangular",width:"100%",height:"100%",sx:{borderRadius:"12px"}}):React.createElement(ee,{domainName:n,series:null!=v?v:[0,0],device:d}),React.createElement(E.A,null,React.createElement(k.A,{disabled:2===s,onClick:()=>{s<2&&u(s+1)}},React.createElement(j.A,null)))),React.createElement(E.A,{sx:{display:"flex",justifyContent:s===H.HomePage?"space-between":"end",alignItems:"center",alignSelf:"end",width:"100%",height:30}},s===H.HomePage&&React.createElement(C.A,{title:"Recheck the speed score for home page"},React.createElement(D.A,{variant:"outlined",endIcon:React.createElement(_.A,{sx:{bgcolor:i.palette.primary.main,p:"1px",color:"white",borderRadius:"50%",height:25,width:25}}),sx:{textTransform:"none",borderRadius:"20px",px:"8px",py:"3px",borderColor:i.palette.primary.main,color:i.palette.primary.main,ml:1,"&:hover":{backgroundColor:"rgba(25, 118, 210, 0.1)",borderColor:i.palette.primary.main},fontWeight:500},onClick:()=>{g(!0),(0,G.ck)("score_refreshed_donut")}},"Get Updated Score")),React.createElement(I.A,{backButton:null,nextButton:null,steps:3,sx:{maxWidth:400,"& .MuiMobileStepper-dot":{width:9,height:9},"& .MuiMobileStepper-dotActive":{width:9,height:9}},position:"static",variant:"dots",activeStep:s}))));var y};var ce=r(98268),le=r(59666);function se(e){let{icon:t,title:r,value:n,subtitle:o,tooltip:i}=e;const c=(0,R.A)();return a.createElement(A.A,{sx:{p:2,width:"100%",height:120}},a.createElement(E.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"}},a.createElement(E.A,null,a.createElement(E.A,{sx:{display:"flex",alignItems:"center",columnGap:1}},a.createElement(U.A,{variant:"subtitle2"},r),i&&a.createElement(C.A,{title:i},a.createElement(ce.A,{sx:{height:16}}))),a.createElement(U.A,{variant:"h3",sx:{mt:0}},n)),t),o&&a.createElement(U.A,{variant:"caption",sx:{mb:2,display:"flex",alignItems:"center"}},a.createElement("span",{style:{color:c.palette.success.main,display:"flex",alignItems:"center",marginRight:"3px"}},a.createElement(le.A,{sx:{mr:"2px",height:14}}),o.value)," ",o.substring))}se.Skeleton=()=>a.createElement(A.A,{sx:{p:2,width:"100%",height:120}},a.createElement(E.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"}},a.createElement(E.A,null,a.createElement(P.A,{variant:"text",width:80,height:20}),a.createElement(P.A,{variant:"rectangular",width:100,height:40,sx:{mt:1}})),a.createElement(P.A,{variant:"circular",width:40,height:40})),a.createElement(P.A,{variant:"text",width:120,height:16,sx:{mt:1}}));const ue=se;function de(){const[e,t]=(0,a.useState)(React.createElement(P.A,{variant:"rectangular",height:60,width:60}));return(0,a.useEffect)((()=>{r.e(978).then(r.t.bind(r,57978,17)).then((e=>t(React.createElement("img",{src:e.default,height:60,alt:"Boost Icon"})))).catch((e=>console.error("Failed to load image",e)))}),[]),e}function me(){const[e,t]=(0,a.useState)(React.createElement(P.A,{variant:"rectangular",height:60,width:60}));return(0,a.useEffect)((()=>{r.e(389).then(r.t.bind(r,75389,17)).then((e=>t(React.createElement("img",{src:e.default,height:60,alt:"Boost Icon"})))).catch((e=>console.error("Failed to load image",e)))}),[]),e}function pe(){const[e,t]=(0,a.useState)(React.createElement(P.A,{variant:"rectangular",height:60,width:60}));return(0,a.useEffect)((()=>{r.e(730).then(r.t.bind(r,8730,17)).then((e=>t(React.createElement("img",{src:e.default,height:60,alt:"Boost Icon"})))).catch((e=>console.error("Failed to load image",e)))}),[]),e}var ge=r(59867);function he(e){return(0,ge.I)({initialData:null,queryKey:[e,"domainInfo"],queryFn:()=>M({domainID:e})})}const fe=ae((()=>Promise.resolve().then(r.bind(r,91582)).then((e=>({default:e.toast})))));function be(e,t){return!e||Number.isNaN(e)?0:8*e/1048576/1.6*1e3+t}function ve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!e||0===e||Number.isNaN(e))return"0 KB";const r=t<0?0:t,a=Math.floor(Math.log(e)/Math.log(1e3));return parseFloat((e/1e3**a).toFixed(r))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][a]}const ye=(e,t)=>0===e||Number.isNaN(e)?t?"Data Not Available":"-":e>=1e3?"".concat((e/1e3).toFixed(1)," ").concat(t?"seconds":"s"):"".concat(e.toFixed(1)," ").concat(t?"milliseconds":"ms");function xe(e){let{domainID:t}=e;const{data:r,isFetching:n}=he(t),o=(0,a.useMemo)((()=>{if(!r)return 0;const[e,t]=r,a=L(t);return a?(fe.error(a),0):e.canonicalUrlCount}),[r]);return n?React.createElement(ue.Skeleton,null):React.createElement(ue,{title:"Unique Pages",icon:React.createElement(de,null),value:o.toString(),tooltip:"Unique pages discovered on the website"})}function Ee(e){let{domainID:t}=e;const{data:r,isFetching:n}=he(t),[o,i]=(0,a.useMemo)((()=>{var e,t,a,n,o;if(!r)return[0,"0"];const[i,c]=r,l=L(c);if(l)return fe.error(l),[0,"0"];const s=null!==(e=null==i?void 0:i.canonicalUrlCount)&&void 0!==e?e:0;if(0===s)return[0,"0"];const u=be((null!==(t=null==i||null===(a=i.css)||void 0===a?void 0:a.cssSizeP1)&&void 0!==t?t:0)/s,100),d=be((null!==(n=null==i||null===(o=i.css)||void 0===o?void 0:o.cssSizeAll)&&void 0!==n?n:0)/s,150);return[u,0!==d?((d-u)/d*100).toFixed(1):"0"]}),[r]);return n?React.createElement(ue.Skeleton,null):React.createElement(ue,{title:"Average Time to Load",icon:React.createElement(me,null),value:ye(o,!1),subtitle:{value:"".concat(i,"%"),substring:"faster than before"},tooltip:"Average page loading time after optimization - ".concat(ye(o,!0))})}function we(e){let{domainID:t}=e;const{data:r,isFetching:n}=he(t),[o,i]=(0,a.useMemo)((()=>{var e,t,a,n;if(!r)return[0,0];const[o,i]=r,c=L(i);if(c)return fe.error(c),[0,0];const l=null!==(e=null==o||null===(t=o.css)||void 0===t?void 0:t.cssSizeP1)&&void 0!==e?e:0,s=null!==(a=null==o||null===(n=o.css)||void 0===n?void 0:n.cssSizeAll)&&void 0!==a?a:0;let u="";u=0!==o.canonicalUrlCount?ve(l/(null==o?void 0:o.canonicalUrlCount),1):ve(0,1);const d=s>0?(s-l)/s*100:0;let m="";return m=Number.isNaN(d)||d<0?"0":d.toFixed(1),[u,m]}),[r]);return n?React.createElement(ue.Skeleton,null):React.createElement(ue,{title:"Optimized CSS/Page",icon:React.createElement(pe,null),value:"".concat(o),subtitle:{value:"".concat(i,"%"),substring:"smaller than before"},tooltip:"Average size of optimized CSS per page"})}function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach((function(t){Ae(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ae(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ke(e){let{domID:t,domainID:r,domainName:c,urlID:l}=e;return"local-testing-root-donut"===t&&(0,n.createRoot)(document.getElementById(t)).render(React.createElement(a.StrictMode,null,React.createElement(i.Z6,{defaultSettings:{themeMode:"light",themeDirection:"ltr",themeContrast:"default",themeLayout:"vertical",themeColorPresets:"blue",themeStretch:!1}},React.createElement("div",{style:{all:"unset",boxSizing:"border-box",borderStyle:"unset",border:"unset"}},React.createElement(o.A,null,React.createElement(E.A,{sx:{display:"flex",justifyContent:"center",height:"100%"}},React.createElement(E.A,{sx:{height:400,width:350}},React.createElement(ie,{domainID:r,domainName:c,urlID:l})))))))),React.createElement(a.StrictMode,null,React.createElement(i.Z6,{defaultSettings:{themeMode:"light",themeDirection:"ltr",themeContrast:"default",themeLayout:"vertical",themeColorPresets:"blue",themeStretch:!1}},React.createElement("div",{style:{all:"unset",boxSizing:"border-box",borderStyle:"unset",border:"unset"}},React.createElement(o.A,null,React.createElement(ie,{domainID:r,domainName:c,urlID:l})))))}function Pe(e){let{domID:t,domainID:r}=e;const a=new w.E,o=()=>React.createElement(S.Ht,{client:a},React.createElement(l.Z6,{defaultSettings:Re(Re({},l.L6),{},{primaryColor:"preset1",direction:"ltr",contrast:"hight"})},React.createElement(c.NP,{noSsr:!0,defaultMode:c.q_.defaultMode,modeStorageKey:c.q_.modeStorageKey},React.createElement(x,null),React.createElement(E.A,{sx:{display:"flex",columnGap:3,px:3},className:"rl-mfe-performance-cards"},React.createElement(xe,{domainID:r}),React.createElement(Ee,{domainID:r}),React.createElement(we,{domainID:r})))));if("local-testing-root-performance"!==t)return o();{const e=document.getElementById(t);if(!e)return void console.warn("No dom element found!");(0,n.createRoot)(e).render(o())}}}}]);